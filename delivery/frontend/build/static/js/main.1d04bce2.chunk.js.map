{"version":3,"sources":["images/LoginPageClupLogo.png","constants/urlsAPI.js","utils/showError.js","utils/httpRequest.js","components/sub-components/Loginform.js","components/sub-components/Signupform.js","components/Start.js","components/sub-components/Searchsection.js","utils/dateParser.js","components/sub-components/TicketElement.js","components/sub-components/TicketsList.js","components/sub-components/Account.js","components/Home.js","components/sub-components/GoBackButton.js","components/sub-components/GoHomeButton.js","components/sub-components/Navigation.js","components/Search.js","components/sub-components/ShopElement.js","components/sub-components/ShopsList.js","components/Shops.js","components/sub-components/GoToButton.js","components/Shop.js","components/Lineup.js","components/Ticket.js","components/sub-components/ShopElementManager.js","components/sub-components/ShopsListManager.js","components/HomeManager.js","components/NewShop.js","components/sub-components/Queue.js","components/ShopManager.js","components/sub-components/TicketTracker.js","components/sub-components/TimeSlot.js","components/ParseTimeLine.js","App.js","reportWebVitals.js","index.js"],"names":["SSW_URL_API","QSW_URL_API","AMW_URL_API","ACCESS_TOKEN_NAME","showError","error","ErrorBackground","document","createElement","classList","add","id","Error","h3_1","innerHTML","h3_2","status","h3_3","data","buttonToLogin","addEventListener","window","location","href","buttonClose","getElementById","removeChild","appendChild","BASE_HEADERS_POST","BASE_HEADERS_GET","USERNAME","getSessionToken","localStorage","getItem","setSessionToken","token","setItem","getUsernameLocal","setUsernameLocal","username","isManager","axiosPOST","service","url","payload","headers","onOk","on500","onError","useOldSessionToken","setNewSessionToken","useUsername","console","log","URL","config","axios","post","then","response","catch","axiosGET","get","Loginform","props","useState","password","state","setState","history","useHistory","handleChange","e","target","value","prevState","sendLoginToServer","length","redirectToManagerHome","redirectToHome","push","className","open","onSubmit","preventDefault","reportValidity","autoComplete","onChange","type","placeholder","name","required","to","method","onClick","renderLogin","Signupform","nextBool","repeatPassword","email","phonenumber","shopOwner","credentialError","sendSignupToServer","alert","checked","renderSignup","Start","src","logo","alt","Searchsection","dateToMinutes","date","Math","ceil","Date","parse","calcDay","day","toString","s","contains","TicketElement","ticket","timeToReachTheShop","expectedDuration","scheduledEnteringTime","scheduledExitingTime","showShop","shop","position","image","TicketsList","isLoaded","tickets","map","style","Account","accountToggler","setAccountToggler","toggleAccount","account","phoneNumber","removeItem","Home","isLoadedTickets","isLoadedAccount","useEffect","GoBackButton","goBack","GoHomeButton","Navigation","goHome","Search","ShopElement","description","ShopsList","shops","Shops","isLoadedShops","GoToButton","content","Shop","isLoadedShop","isLoadedQueueMaxDuration","queueMaxDuration","shopId","match","params","shifts","shift","openingTime","closingTime","Lineup","ttr","duration","parseInt","sendLineUpToServer","Ticket","isLoadedTicket","ticketId","enterTime","enteringTime","exitTime","ShopElementManager","ShopsListManager","HomeManager","NewShop","shopCapacity","timeslotMinutesDuration","maxEnteringClientInATimeslot","shiftsProto","quantityOfSshifts","sendNewShopToServer","formData","FormData","file","files","Queue","handleEnter","handleExit","ShopManager","queueTrigger","TicketTracker","ticketTracker","previousMatchingTicket","followingMatchingTicket","TimeSlot","timeslot","timeSlot","startingTime","endingTime","expectedEnteringTickets","expectedExitingTickets","ParseTimeLine","JSON","App","path","exact","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"+JAAe,G,MAAA,IAA0B,+C,uCCA5BA,EAAc,iDACdC,EAAc,iDACdC,EAAc,iDACdC,EAAoB,qB,UCDpBC,EAAY,SAACC,GAEtB,GAAa,MAATA,EAAe,CAEf,IAAIC,EAAkBC,SAASC,cAAc,OAC7CF,EAAgBG,UAAUC,IAAI,mBAC9BJ,EAAgBK,GAAK,QAGrB,IAAIC,EAAQL,SAASC,cAAc,OACnCI,EAAMH,UAAUC,IAAI,oBACpBE,EAAMH,UAAUC,IAAI,SAEpB,IAAIG,EAAON,SAASC,cAAc,MAClCK,EAAKC,UAAY,SAEjB,IAAIC,EAAOR,SAASC,cAAc,MAClCO,EAAKD,UAAY,gBAAkBT,EAAMW,OAEzC,IAAIC,EAAOV,SAASC,cAAc,MAClCS,EAAKH,UAAY,kBAAoBT,EAAMa,KAE3C,IAAIC,EAAgBZ,SAASC,cAAc,UAC3CW,EAAcL,UAAY,cAI1BK,EAAcC,iBAAiB,SAHT,WAClBC,OAAOC,SAASC,KAAO,OAI3B,IAAIC,EAAcjB,SAASC,cAAc,UACzCgB,EAAYV,UAAY,QAIxBU,EAAYJ,iBAAiB,SAHT,WAChBb,SAASkB,eAAe,OAAOC,YAAYnB,SAASkB,eAAe,aAIvEb,EAAMe,YAAYd,GAClBD,EAAMe,YAAYZ,GAClBH,EAAMe,YAAYV,GAClBL,EAAMe,YAAYR,GAClBP,EAAMe,YAAYH,GAElBlB,EAAgBqB,YAAYf,GAE5BL,SAASkB,eAAe,OAAOE,YAAYrB,KCzC7CsB,EAAoB,CACtB,OAAU,mBACV,eAAgB,oBAGdC,EAAmB,CACrB,OAAU,oBAGRC,EAAW,WAGJC,EAAkB,WAC3B,OAAOC,aAAaC,QAAQ9B,IAGnB+B,EAAkB,SAACC,GAC5BH,aAAaI,QAAQjC,EAAmBgC,IAG/BE,EAAmB,WAC5B,OAAOL,aAAaC,QAAQH,IAGnBQ,EAAmB,SAACC,EAAUC,GACvCR,aAAaI,QAAQN,EAAUS,GAC/BP,aAAaI,QAhBE,YAgBkBI,IAGxBC,EAAY,SAACC,EAASC,EAAKC,EAASC,EAASC,EAAMC,EAAOC,EAASC,EAAoBC,EAAoBC,GACpHC,QAAQC,IAAI,gDACZD,QAAQC,IAAI,uBAEZ,IAgBIC,EAhBEC,EAAS,CACXV,QAAQ,2BACDA,GACAjB,IAIPqB,IACAG,QAAQC,IAAI,sBAAwBtB,IAAoB,MACxDwB,EAAOV,QAAQ,iBAAmBd,KAElCoB,IACAC,QAAQC,IAAI,aAAehB,KAC3BkB,EAAOV,QAAP,SAA6BR,KAM7BiB,EADY,QAAZZ,EACMxC,EAEW,QAAZwC,EACCzC,EAGAD,EAGVsD,GAAOX,EAEPS,QAAQC,IAAI,QACZD,QAAQC,IAAIC,GACZF,QAAQC,IAAIT,GACZQ,QAAQC,IAAIE,EAAOV,SACnBO,QAAQC,IAAI,uBAAyBJ,GACrCG,QAAQC,IAAI,uBAAyBH,GACrCE,QAAQC,IAAI,gBAAkBF,GAC9BC,QAAQC,IAAI,gDACZD,QAAQC,IAAI,kBAEZG,IAAMC,KAAKH,EAAKV,EAASW,GACxBG,MAAK,SAAUC,GACZP,QAAQC,IAAI,kBACZD,QAAQC,IAAIM,EAASzC,MACrBkC,QAAQC,IAAI,oBACZD,QAAQC,IAAIM,EAAS3C,QACrBoC,QAAQC,IAAI,oBACZD,QAAQC,IAAIM,EAASd,SACG,MAApBc,EAAS3C,QACLkC,IACAE,QAAQC,IAAI,sBAAwBM,EAASd,QAAQ,iBAAmB,MACxEX,EAAgByB,EAASd,QAAQ,mBAErCC,EAAKa,IAG2EvD,EAAUuD,MAGjGC,OAAM,SAAUvD,GACb+C,QAAQC,IAAIhD,GACRA,EAAMsD,UACNP,QAAQC,IAAI,eACZD,QAAQC,IAAIhD,EAAMsD,SAASzC,MAC3BkC,QAAQC,IAAI,iBACZD,QAAQC,IAAIhD,EAAMsD,SAAS3C,QAC3BoC,QAAQC,IAAI,iBACZD,QAAQC,IAAIhD,EAAMsD,SAASd,SACb,OAAVE,GAA4C,MAA1B1C,EAAMsD,SAAS3C,OACjC+B,EAAM1C,GAGoDD,EAAUC,EAAMsD,WAI9D,OAAZX,EACAA,EAAQ3C,GAGoDD,EAAUC,EAAMsD,cAM/EE,EAAW,SAACnB,EAASC,EAAKE,EAASC,EAAMC,EAAOC,EAASC,EAAoBC,EAAoBC,GAC1GC,QAAQC,IAAI,gDACZD,QAAQC,IAAI,uBAEZ,IAcIC,EAdEC,EAAS,CACXV,QAAQ,2BACDA,GACAhB,IAIPoB,IACAM,EAAOV,QAAQ,iBAAmBd,KAElCoB,IACAI,EAAOV,QAAP,SAA6BR,KAM7BiB,EADY,QAAZZ,EACMxC,EAEW,QAAZwC,EACCzC,EAGAD,EAGVsD,GAAOX,EAEPS,QAAQC,IAAI,OACZD,QAAQC,IAAIC,GACZF,QAAQC,IAAIE,EAAOV,SACnBO,QAAQC,IAAI,uBAAyBJ,GACrCG,QAAQC,IAAI,uBAAyBH,GACrCE,QAAQC,IAAI,gBAAkBF,GAC9BC,QAAQC,IAAI,gDACZD,QAAQC,IAAI,kBAEZG,IAAMM,IAAIR,EAAKC,GACVG,MAAK,SAAUC,GACZP,QAAQC,IAAI,kBACZD,QAAQC,IAAIM,EAASzC,MACrBkC,QAAQC,IAAI,oBACZD,QAAQC,IAAIM,EAAS3C,QACrBoC,QAAQC,IAAI,oBACZD,QAAQC,IAAIM,EAASd,SACG,MAApBc,EAAS3C,QACLkC,IACAE,QAAQC,IAAI,sBAAwBM,EAASd,QAAQ,iBAAmB,MACxEX,EAAgByB,EAASd,QAAQ,mBAErCC,EAAKa,IAG2EvD,EAAUuD,MAGjGC,OAAM,SAAUvD,GACb+C,QAAQC,IAAIhD,GACRA,EAAMsD,UACNP,QAAQC,IAAI,eACZD,QAAQC,IAAIhD,EAAMsD,SAASzC,MAC3BkC,QAAQC,IAAI,iBACZD,QAAQC,IAAIhD,EAAMsD,SAAS3C,QAC3BoC,QAAQC,IAAI,iBACZD,QAAQC,IAAIhD,EAAMsD,SAASd,SACb,OAAVE,GAA4C,MAA1B1C,EAAMsD,SAAS3C,OACjC+B,EAAM1C,GAGoDD,EAAUC,EAAMsD,WAI9D,OAAZX,EACAA,EAAQ3C,GAGoDD,EAAUC,EAAMsD,c,cC9GjFI,EA1FG,SAACC,GAAW,IAAD,EAECC,mBAAS,CAC/B1B,SAAU,GACV2B,SAAU,KAJW,mBAElBC,EAFkB,KAEXC,EAFW,KAOnBC,EAAUC,cAEVC,EAAe,SAACC,GAAO,IAAD,EACFA,EAAEC,OAAhB9D,EADgB,EAChBA,GAAI+D,EADY,EACZA,MACZN,GAAS,SAAAO,GAAS,kCACXA,GADW,kBAEbhE,EAAK+D,QAWRE,EAAoB,WACtB,GAA+B,IAA1BT,EAAM5B,SAASsC,QAA4C,IAA1BV,EAAMD,SAASW,OAAe,CAChE,IAAMjC,EAAU,CACZ,SAAYuB,EAAM5B,SAClB,SAAY4B,EAAMD,UAYtBzB,EAAU,MAAO,SAAUG,EAAS,IAVvB,SAACe,GACVrB,EAAiBqB,EAASzC,KAAKqB,SAAUoB,EAASzC,KAAKsB,WACvDY,QAAQC,IAAI,qCAAuCM,EAASzC,KAAKqB,UAC7DoB,EAASzC,KAAKsB,UACdsC,IAGAC,MAGsC,KAAM,MAAM,GAAO,GAAM,KAIzEA,EAAiB,WACnBV,EAAQW,KAAK,UAEXF,EAAwB,WAC1BT,EAAQW,KAAK,iBAGjB,OACI,qBAAKC,UAAU,qBAAf,SAEQjB,EAAMkB,KACF,uBAAMC,SAtCI,SAACX,GACvBA,EAAEY,iBACEZ,EAAEC,OAAOY,kBACTT,KAmC2CU,aAAa,MAAhD,UACI,sBAAKL,UAAU,iBAAf,UACI,uDACA,sBAAKA,UAAU,mBAAf,UACI,uBAAOA,UAAU,cAAjB,sBACA,uBAAOM,SAAUhB,EACbG,MAAOP,EAAM5B,SACb5B,GAAG,WACH6E,KAAK,OAAOC,YAAY,WAAWC,KAAK,WAAWC,UAAQ,OAEnE,sBAAKV,UAAU,mBAAf,UACI,uBAAOA,UAAU,cAAjB,sBACA,uBAAOM,SAAUhB,EACb5D,GAAG,WACH+D,MAAOP,EAAMD,SACbsB,KAAK,WAAWC,YAAY,WAAWC,KAAK,WAAWC,UAAQ,OAEvE,wBAAQV,UAAU,eAAeO,KAAK,SAAtC,wBAEJ,qBAAKP,UAAU,0BAAf,SACI,2CAAa,cAAC,IAAD,CAAMW,GAAG,IAAT,+BAIrB,sBAAMC,OAAO,OAAOP,aAAa,MAAjC,SACI,sBAAKL,UAAU,iBAAf,UACI,2DACA,wBAAQA,UAAU,eAAea,QAAS9B,EAAM+B,YAAhD,2BC8EbC,EAjKI,SAAChC,GAAW,IAAD,EAEAC,mBAAS,CAC/BgC,UAAU,EACV1D,SAAU,GACV2B,SAAU,GACVgC,eAAgB,GAChBC,MAAO,GACPC,YAAa,GACbC,WAAW,EACXC,gBAAiB,OAVK,mBAEnBnC,EAFmB,KAEZC,EAFY,KAapBC,EAAUC,cAEVC,EAAe,SAACC,GAAO,IAAD,EACFA,EAAEC,OAAhB9D,EADgB,EAChBA,GAAI+D,EADY,EACZA,MACZN,GAAS,SAAAO,GAAS,kCACXA,GADW,kBAEbhE,EAAK+D,QAsCR6B,EAAqB,WACvB,IAAM3D,EAAU,CACZ,SAAYuB,EAAM5B,SAClB,SAAY4B,EAAMD,SAClB,UAAaC,EAAM+B,eACnB,MAAS/B,EAAMgC,MACf,YAAehC,EAAMiC,YACrB,UAAajC,EAAMkC,WAYvB5D,EAAU,MAAO,gBAAiBG,EAAS,IAV9B,SAACe,GACVrB,EAAiBqB,EAASzC,KAAKqB,SAAUoB,EAASzC,KAAKsB,WACvDY,QAAQC,IAAI,qCAAuCM,EAASzC,KAAKqB,UAC9DoB,EAASzC,KAAKsB,UACbsC,IAGAC,MAG6C,KAAM,MAAM,GAAO,GAAM,IAG5EA,EAAiB,WACnBV,EAAQW,KAAK,UAEXF,EAAwB,WAC1BT,EAAQW,KAAK,iBAGjB,OACI,qBAAKC,UAAU,qBAAf,SACKjB,EAAMkB,KACH,sBAAMC,SAhDS,SAACX,GACxBA,EAAEY,kBACqB,IAAnBjB,EAAM8B,UAGN1F,SAASkB,eAAe,cAAc4D,mBAClClB,EAAMD,WAAaC,EAAM+B,eACzBK,IAIAC,MAAM,4BAqC8B7F,GAAG,aAAa2E,aAAa,MAAjE,SACMnB,EAAM8B,SAkCJ,sBAAKhB,UAAU,iBAAf,UACI,mDACA,sBAAKA,UAAU,mBAAf,UACI,uBAAOA,UAAU,cAAjB,sBACA,uBAAOM,SAAUhB,EACbG,MAAOP,EAAMD,SACbvD,GAAG,WACH6E,KAAK,WAAWC,YAAY,WAAWC,KAAK,WAAWC,UAAQ,OAEvE,sBAAKV,UAAU,mBAAf,UACI,uBAAOA,UAAU,cAAjB,6BACA,uBAAOM,SAAUhB,EACbG,MAAOP,EAAM+B,eACbvF,GAAG,iBAAiB6E,KAAK,WAAWC,YAAY,kBAAkBC,KAAK,iBAAiBC,UAAQ,OAExG,sBAAKV,UAAU,gBAAf,UACI,wBAAQA,UAAU,eAAeO,KAAK,SAASM,QAAS,WACpD1B,GAAS,SAAAO,GAAS,kCACXA,GADW,IAEd,UAAY,QAHpB,oBAMA,wBAAQM,UAAU,eAAlB,2BAvDR,sBAAKA,UAAU,iBAAf,UACI,sDACA,sBAAKA,UAAU,mBAAf,UACI,uBAAOA,UAAU,cAAjB,sBACA,uBAAOM,SAAUhB,EACbG,MAAOP,EAAM5B,SACb5B,GAAG,WACH6E,KAAK,OAAOC,YAAY,WAAWC,KAAK,WAAWC,UAAQ,OAEnE,sBAAKV,UAAU,mBAAf,UACI,uBAAOA,UAAU,cAAjB,mBACA,uBAAOM,SAAUhB,EACbG,MAAOP,EAAMgC,MACbxF,GAAG,QACH6E,KAAK,QAAQC,YAAY,oBAAoBC,KAAK,QAAQC,UAAQ,OAE1E,sBAAKV,UAAU,mBAAf,UACI,uBAAOA,UAAU,cAAjB,0BACA,uBAAOM,SAAUhB,EACbG,MAAOP,EAAMiC,YACbzF,GAAG,cACH6E,KAAK,SAASC,YAAY,iBAAiBC,KAAK,cAAcC,UAAQ,OAE9E,sBAAKV,UAAU,mBAAf,UACI,uBAAOA,UAAU,cAAjB,mCACA,uBAAOM,SA7FZ,SAACf,GAAM,IAAD,EACHA,EAAEC,OAAjB9D,EADkB,EAClBA,GAAI8F,EADc,EACdA,QACXrD,QAAQC,IAAIoD,GACZrC,GAAS,SAAAO,GAAS,kCACXA,GADW,kBAEbhE,EAAK8F,QAyFkB/B,MAAOP,EAAMkC,UACb1F,GAAG,YACH6E,KAAK,WAAWE,KAAK,iBAE7B,wBAAQT,UAAU,eAAea,QAzFnC,SAACtB,GACfjE,SAASkB,eAAe,cAAc4D,kBACtCjB,GAAS,SAAAO,GAAS,kCACXA,GADW,IAEdsB,UAAU,QAqFE,uBA+BZ,uBAAMtF,GAAG,aAAa2E,aAAa,MAAnC,UACI,yDACA,wBAAQL,UAAU,eAAea,QAAS9B,EAAM0C,aAAhD,0BC9HLC,EA1BD,WAAO,IAAD,EAEU1C,mBAAS,SAFnB,mBAETE,EAFS,KAEFC,EAFE,KAWhB,OACI,sBAAKa,UAAU,eAAf,UACI,sBAAKA,UAAS,uBAA6B,UAAVd,EAAqB,mBAAqB,sBAA3E,UACI,qBAAKc,UAAU,oBAAf,SACI,qBAAK2B,IAAKC,EAAMC,IAAI,OAExB,cAAC,EAAD,CAAW5B,KAAiB,UAAVf,EAAmC4B,YAb7C,WAChB3B,EAAS,eAcL,qBAAKa,UAAS,0BAAgC,UAAVd,EAAqB,wBAA0B,uBAAnF,SACI,cAAC,EAAD,CAAYe,KAAiB,UAAVf,EAAmCuC,aAb7C,WACjBtC,EAAS,mBCIF2C,EAfO,WAElB,IAAM1C,EAAUC,cAMhB,OACI,8BACI,oBAAIwB,QANQ,WAChBzB,EAAQW,KAAK,YAKT,2CCbCgC,EAAgB,SAACC,GAC1B,OAAOC,KAAKC,KAAMC,KAAKC,MAAMJ,GAAQ,IAAQ,KAGpCK,EAAU,SAACpG,GAEpB,IAAIqG,EAAMrG,EAAKsG,WAEXC,EAAI,GA2BR,OAzBIF,EAAIG,SAAS,OACbD,GAAK,YAELF,EAAIG,SAAS,OACbD,GAAK,aAELF,EAAIG,SAAS,OACbD,GAAK,eAELF,EAAIG,SAAS,OACbD,GAAK,cAELF,EAAIG,SAAS,OACbD,GAAK,YAELF,EAAIG,SAAS,OACbD,GAAK,cAELF,EAAIG,SAAS,OACbD,GAAK,YAELF,EAAIG,SAAS,OACbD,GAAK,0BAGFA,GCuBIE,EAtDO,SAAC3D,GAEnB,IAAMK,EAAUC,cAUhB,OACI,sBAAKW,UAAU,wBAAf,UAEI,gDAAmBjB,EAAM4D,OAAOjH,GAAhC,OAEA,sBAAKsE,UAAU,YAAYa,QAbP,WACxBzB,EAAQW,KAAK,WAAahB,EAAM4D,OAAOjH,KAYnC,UAEI,4CAAeqD,EAAM4D,OAAO5G,OAA5B,OAEA,4DAA+BgG,EAAchD,EAAM4D,OAAOC,oBAA1D,eAEA,yEAA4Cb,EAAchD,EAAM4D,OAAOE,kBAAvE,eAEA,sBAAK7C,UAAU,mBAAf,UAEKjB,EAAM4D,OAAOG,sBAAwB,6DAAgC/D,EAAM4D,OAAOG,sBAA7C,OAA6E,GAElH/D,EAAM4D,OAAOI,qBAAuB,4DAA+BhE,EAAM4D,OAAOI,qBAA5C,OAA2E,SAOpHhE,EAAMiE,SACF,sBAAKhD,UAAU,6BAA6Ba,QA7BlC,WACtBzB,EAAQW,KAAK,SAAWhB,EAAM4D,OAAOM,KAAKvH,KA4B9B,UAEI,8CAAiBqD,EAAM4D,OAAOM,KAAKxC,KAAnC,OAEA,kDAAqB1B,EAAM4D,OAAOM,KAAKC,SAAvC,OAEA,+CAAkBnE,EAAM4D,OAAOM,KAAKE,MAApC,UAIJ,O,OC7BLC,EAlBK,SAACrE,GAEjB,OAAIA,EAAMsE,SAEF,qBAAKrD,UAAU,mBAAf,SACwB,OAAlBjB,EAAMuE,SAA6C,IAAzBvE,EAAMuE,QAAQ1D,OACrCb,EAAMuE,QAASC,KAAI,SAAAZ,GAAM,OAAI,cAAC,EAAD,CAA+BA,OAAQA,EAAQK,UAAU,GAArCL,EAAOjH,OAEzD,yBAML,sBAAKsE,UAAU,mBAAf,cAAmC,cAAC,cAAD,CAAawD,MAAO,CAACN,SAAU,kBCiClEO,EA7CC,SAAC1E,GAEb,IAAMK,EAAUC,cAFO,EAIqBL,oBAAS,GAJ9B,mBAIhB0E,EAJgB,KAIAC,EAJA,KAMjBC,EAAgB,WAClBD,GAAmBD,IAWvB,OAAI3E,EAAMsE,SAEF,qBAAKrD,UAAU,mBAAf,SACM0D,EAEE,gCACI,kDACA,8CAAiB3E,EAAM8E,QAAQvG,SAA/B,OACA,2CAAcyB,EAAM8E,QAAQ3C,MAA5B,OACA,kDAAqBnC,EAAM8E,QAAQC,YAAnC,OACA,+CAAkB/E,EAAM8E,QAAQtG,UAAY,OAAS,QAArD,OACA,wBAAQsD,QAnBP,WAKjBjC,EAAS,MAAO,UAAW,IAJd,SAACF,GACV3B,aAAagH,WAAW7I,GACxBkE,EAAQW,KAAK,OAEoB,KAAM,MAAM,GAAO,GAAO,IAc/C,sBACA,wBAAQc,QAAS+C,EAAjB,wBAGJ,8BACI,wBAAQ/C,QAAS+C,EAAjB,2BAOT,sBAAK5D,UAAU,mBAAf,cAAmC,cAAC,cAAD,CAAawD,MAAO,CAACN,SAAU,kBCMlEc,EA9CF,WAAO,IAAD,EAEWhF,mBAAS,CAC/BiF,iBAAiB,EACjBC,iBAAiB,EACjBZ,QAAS,KACTO,QAAS,OANE,mBAER3E,EAFQ,KAEDC,EAFC,KAqCf,OA3BAgF,qBAAU,WAUNvF,EAAS,MAAO,WAAY,IATf,SAACF,GACVS,GAAS,SAAAO,GACL,OAAO,2BACAA,GADP,IAEIuE,iBAAiB,EACjBX,QAAS5E,EAASzC,YAIQ,KAAM,MAAM,GAAM,GAAO,KAChE,IAGHkI,qBAAU,WAUNvF,EAAS,MAAO,YAAa,IAThB,SAACF,GACVS,GAAS,SAAAO,GACL,OAAO,2BACAA,GADP,IAEIwE,iBAAiB,EACjBL,QAASnF,EAASzC,YAIS,KAAM,MAAM,GAAM,GAAO,KACjE,IAGC,gCACI,cAAC,EAAD,CAASoH,SAAUnE,EAAMgF,gBAAiBL,QAAS3E,EAAM2E,UACzD,cAAC,EAAD,IACA,cAAC,EAAD,CAAaR,SAAUnE,EAAM+E,gBAAiBX,QAASpE,EAAMoE,cCpC1Dc,EATM,WAEjB,IAAMhF,EAAUC,cAEhB,OACI,wBAAQwB,QAAS,WAAQzB,EAAQiF,UAAjC,wBCIOC,EATM,WAEjB,IAAMlF,EAAUC,cAEhB,OACI,wBAAQwB,QAAS,WAAQ9D,aAAaC,QAAQ,aAAeoC,EAAQW,KAAK,gBAAkBX,EAAQW,KAAK,UAAzG,qBCOOwE,EAVI,SAACxF,GAEhB,OACI,sBAAKiB,UAAU,gBAAf,UACKjB,EAAMsF,OAAS,cAAC,EAAD,IAAmB,GAClCtF,EAAMyF,OAAS,cAAC,EAAD,IAAmB,OCkChCC,EAxCA,WAEX,IAAMrF,EAAUC,cAWhB,OACI,sBAAKW,UAAU,mBAAf,UAEI,cAAC,EAAD,CAAYqE,QAAQ,EAAMG,QAAQ,IAElC,qBAAKxE,UAAU,gBAAf,SAEI,uBAAME,SAhBG,SAACX,GAClBA,EAAEY,iBACFoB,MAAM,0BAcE,UAEI,uBAAO7F,GAAG,cAAc+E,KAAK,cAAcF,KAAK,OAAOC,YAAY,kBAEnE,wBAAQD,KAAK,SAAb,2BAMR,8BAEI,wBAAQM,QAvBG,WACnBzB,EAAQW,KAAK,WAsBL,+BCVD2E,EAvBK,SAAC3F,GAEjB,IAAMK,EAAUC,cAMhB,OACI,sBAAKW,UAAU,kCAAkCa,QAL/B,WAClBzB,EAAQW,KAAK,SAAWhB,EAAMkE,KAAKvH,KAInC,UAEI,oCAAOqD,EAAMkE,KAAKxC,KAAlB,OAEA,oCAAO1B,EAAMkE,KAAKE,MAAlB,OAEA,oCAAOpE,EAAMkE,KAAK0B,YAAlB,OAEA,oCAAO5F,EAAMkE,KAAKC,SAAlB,WCCG0B,EAjBG,SAAC7F,GACf,OAAIA,EAAMsE,SAEF,qBAAKrD,UAAU,mBAAf,SACsB,OAAhBjB,EAAM8F,OAAyC,IAAvB9F,EAAM8F,MAAMjF,OACjCb,EAAM8F,MAAOtB,KAAI,SAAAN,GAAI,OAAI,cAAC,EAAD,CAA2BA,KAAMA,GAAfA,EAAKvH,OAEjD,wBAML,sBAAKsE,UAAU,mBAAf,cAAmC,cAAC,cAAD,CAAawD,MAAO,CAACN,SAAU,kBCmBlE4B,EA9BD,WAAO,IAAD,EAEU9F,mBAAS,CAC/B+F,eAAe,EACfF,MAAO,OAJK,mBAET3F,EAFS,KAEFC,EAFE,KAqBhB,OAbAgF,qBAAU,WAUNvF,EAAS,MAAO,YAAa,IAThB,SAACF,GACVS,GAAS,SAAAO,GACL,OAAO,2BACAA,GADP,IAEIqF,eAAe,EACfF,MAAOnG,EAASzC,YAIW,KAAM,MAAM,GAAM,GAAO,KACjE,IAGC,sBAAK+D,UAAU,mBAAf,UACI,cAAC,EAAD,CAAYqE,QAAQ,EAAMG,QAAQ,IAClC,cAAC,EAAD,IACA,cAAC,EAAD,CAAWnB,SAAUnE,EAAM6F,cAAeF,MAAO3F,EAAM2F,YCnBpDG,EATI,SAACjG,GAEhB,IAAMK,EAAUC,cAEhB,OACI,yBAAQwB,QAAS,WAAQzB,EAAQW,KAAKhB,EAAM4B,KAA5C,cAAqD5B,EAAMkG,QAA3D,QC0FOC,EA3FF,SAACnG,GAAW,IAAD,EAEMC,mBAAS,CAC/BmG,cAAc,EACdlC,KAAM,KACNmC,0BAA0B,EAC1BC,iBAAkB,KAClBC,OAAQvG,EAAMwG,MAAMC,OAAO9J,KAPX,mBAEbwD,EAFa,KAENC,EAFM,KAsCpB,OA3BAgF,qBAAU,WAUNvF,EAAS,MAAQ,eAAiBM,EAAMoG,OAAS,IATpC,SAAC5G,GACVS,GAAS,SAAAO,GACL,OAAO,2BACAA,GADP,IAEIyF,cAAc,EACdlC,KAAMvE,EAASzC,KAAKgH,YAI2B,KAAM,MAAM,GAAM,GAAO,KACrF,CAAC/D,EAAMoG,SAGVnB,qBAAU,WAUNvF,EAAS,MAAQ,cAAgBM,EAAMoG,OAAS,IATnC,SAAC5G,GACVS,GAAS,SAAAO,GACL,OAAO,2BACAA,GADP,IAEI0F,0BAA0B,EAC1BC,iBAAkB3G,EAASzC,YAImB,KAAM,MAAM,GAAM,GAAO,KACpF,CAACiD,EAAMoG,SAGN,sBAAKtF,UAAU,mBAAf,UAEI,cAAC,EAAD,CAAYqE,QAAQ,EAAMG,QAAQ,IAEjCtF,EAAMiG,aAEH,sBAAKnF,UAAU,wBAAf,UAEI,sBAAKA,UAAU,mBAAf,UAEI,oCAAOd,EAAM+D,KAAKxC,KAAlB,OAEA,oCAAOvB,EAAM+D,KAAKE,MAAlB,OAEA,oCAAOjE,EAAM+D,KAAK0B,YAAlB,OAEA,oCAAOzF,EAAM+D,KAAKC,SAAlB,UAIJ,qBAAKlD,UAAU,mBAAf,SAEKd,EAAMkG,yBACH,6DAAgClG,EAAMmG,oBAEtC,cAAC,cAAD,CAAa7B,MAAO,CAACN,SAAU,gBAKtChE,EAAM+D,KAAKwC,OACPvG,EAAM+D,KAAKwC,OAAQlC,KAAI,SAAAmC,GAAK,OACzB,sBAAK1F,UAAU,mBAAf,UACI,yCAAYqC,EAAQqD,EAAMpD,QAC1B,gCAAMoD,EAAMC,YAAZ,MAA4BD,EAAME,qBAI1C,GAGJ,cAAC,EAAD,CAAYjF,GAAI,WAAazB,EAAMoG,OAAQL,QAAQ,eAIvD,cAAC,cAAD,CAAazB,MAAO,CAACN,SAAU,kBCRhC2C,EA7EA,SAAC9G,GAAW,IAAD,EAEIC,mBAAS,CAC/B8G,IAAK,GACLC,SAAU,GACVT,OAAQU,SAASjH,EAAMwG,MAAMC,OAAO9J,MALlB,mBAEfwD,EAFe,KAERC,EAFQ,KAQhBC,EAAUC,cAEVC,EAAe,SAACC,GAAO,IAAD,EACFA,EAAEC,OAAhB9D,EADgB,EAChBA,GAAI+D,EADY,EACZA,MACZN,GAAS,SAAAO,GAAS,kCACXA,GADW,kBAEbhE,EAAK+D,QAWRwG,EAAqB,WAEvB,IAIMtI,EAAU,CACZ,mBALM,IAAIwE,KAAe,GAAVjD,EAAM4G,IAAO,KAM5B,WAJW,IAAI3D,KAAoB,GAAfjD,EAAM6G,SAAY,KAKtC,OAAU7G,EAAMoG,QAcpB9H,EAAU,MAAO,WAAYG,EAAS,IAZzB,SAACe,GACNA,EAASzC,KAAKP,GACd0D,EAAQW,KAAK,WAAarB,EAASzC,KAAKP,KAGxCgD,EAAQ,2BACDA,GADC,IAEJzC,KAAM,wFAEVd,EAAUuD,MAG8B,KAAM,MAAM,GAAM,GAAO,IAG7E,OACI,sBAAKsB,UAAU,mBAAf,UACI,cAAC,EAAD,CAAYqE,QAAQ,EAAMG,QAAQ,IAClC,uBAAM9I,GAAG,SAASwE,SApCC,SAACX,GACxBA,EAAEY,iBACE7E,SAASkB,eAAe,UAAU4D,kBAClC6F,KAiCgD5F,aAAa,MAA7D,UACI,gCACI,wEACA,uBAAOC,SAAUhB,EACbG,MAAOP,EAAM4G,IACbpK,GAAG,MACH6E,KAAK,SAASC,YAAY,KAAKC,KAAK,MAAMC,UAAQ,OAE1D,gCACI,4EACA,uBAAOJ,SAAUhB,EACbG,MAAOP,EAAM6G,SACbrK,GAAG,WACH6E,KAAK,SAASC,YAAY,KAAKC,KAAK,WAAWC,UAAQ,OAE/D,8BACI,wBAAQH,KAAK,SAAb,6BCeL2F,EApFA,SAACnH,GAAW,IAAD,EAEIC,mBAAS,CAC/BmH,gBAAgB,EAChBxD,OAAQ,KACRyD,SAAUrH,EAAMwG,MAAMC,OAAO9J,KALX,mBAEfwD,EAFe,KAERC,EAFQ,KAQhBC,EAAUC,cAGhB8E,qBAAU,WAUNvF,EAAS,MAAQ,iBAAmBM,EAAMkH,SAAW,IATxC,SAAC1H,GACVS,GAAS,SAAAO,GACL,OAAO,2BACAA,GADP,IAEIyG,gBAAgB,EAChBxD,OAAQjE,EAASzC,YAIkC,KAAM,MAAM,GAAM,GAAO,KACzF,CAACiD,EAAMkH,WAaV,OACI,sBAAKpG,UAAU,wBAAf,UACI,cAAC,EAAD,CAAYqE,QAAQ,EAAMG,QAAQ,IACjCtF,EAAMiH,eACH,sBAAKnG,UAAU,mBAAf,UAEI,gCAEI,4CAAed,EAAMyD,OAAO5G,OAA5B,OAEA,4DAA+BgG,EAAc7C,EAAMyD,OAAOC,oBAA1D,eAEA,yEAA4Cb,EAAc7C,EAAMyD,OAAOE,kBAAvE,eAEA,sBAAK7C,UAAU,mBAAf,UAEKd,EAAMyD,OAAO0D,UAAY,mDAAsBnH,EAAMyD,OAAO2D,aAAnC,OAA0D,GAEnFpH,EAAMyD,OAAO4D,SAAW,8CAAiBrH,EAAMyD,OAAO4D,SAA9B,OAAiD,GAEzErH,EAAMyD,OAAOG,sBAAwB,6DAAgC5D,EAAMyD,OAAOG,sBAA7C,OAA6E,GAElH5D,EAAMyD,OAAOI,qBAAuB,4DAA+B7D,EAAMyD,OAAOI,qBAA5C,OAA2E,SAMxH,sBAAK/C,UAAU,6BAA6Ba,QAhClC,WACtBzB,EAAQW,KAAK,SAAWb,EAAMyD,OAAOM,KAAKvH,KA+B9B,UAEI,8CAAiBwD,EAAMyD,OAAOM,KAAKxC,KAAnC,OAEA,kDAAqBvB,EAAMyD,OAAOM,KAAKC,SAAvC,OAEA,+CAAkBhE,EAAMyD,OAAOM,KAAKE,MAApC,UAIJ,wBAAQtC,QAjDF,WAIlBjC,EAAS,MAAQ,YAAcM,EAAMkH,SAAW,IAHnC,WACThH,EAAQW,KAAK,WAEyC,KAAM,MAAM,GAAM,GAAO,IA6CvE,0BAIJ,cAAC,cAAD,CAAayD,MAAO,CAACN,SAAU,kBC/DhCsD,EAlBY,SAACzH,GAExB,IAAMK,EAAUC,cAMhB,OACI,sBAAKW,UAAU,kCAAkCa,QAL/B,WAClBzB,EAAQW,KAAK,gBAAkBhB,EAAMkE,KAAKvH,KAI1C,UACI,oCAAOqD,EAAMkE,KAAKxC,KAAlB,OACA,oCAAO1B,EAAMkE,KAAKE,MAAlB,OACA,oCAAOpE,EAAMkE,KAAK0B,YAAlB,OACA,oCAAO5F,EAAMkE,KAAKC,SAAlB,WCKGuD,EAjBU,SAAC1H,GACtB,OAAIA,EAAMsE,SAEF,qBAAKrD,UAAU,mBAAf,SACsB,OAAhBjB,EAAM8F,OAAyC,IAAvB9F,EAAM8F,MAAMjF,OACjCb,EAAM8F,MAAOtB,KAAI,SAAAN,GAAI,OAAI,cAAC,EAAD,CAAkCA,KAAMA,GAAfA,EAAKvH,OAExD,wBAML,sBAAKsE,UAAU,mBAAf,cAAmC,cAAC,cAAD,CAAawD,MAAO,CAACN,SAAU,kBCoClEwD,GA9CK,WAAO,IAAD,EAEI1H,mBAAS,CAC/B+F,eAAe,EACfb,iBAAiB,EACjBL,QAAS,KACTgB,MAAO,OANW,mBAEf3F,EAFe,KAERC,EAFQ,KAqCtB,OA3BCgF,qBAAU,WAUPvF,EAAS,MAAO,SAAU,IATb,SAACF,GACVS,GAAS,SAAAO,GACL,kCACQA,GADR,IAEKqF,eAAgB,EAChBF,MAAQnG,EAASzC,YAIM,KAAO,MAAM,GAAM,GAAO,KAC/D,IAGHkI,qBAAU,WAUNvF,EAAS,MAAO,YAAa,IAThB,SAACF,GACVS,GAAS,SAAAO,GACL,kCACQA,GADR,IAEKwE,iBAAkB,EAClBL,QAASnF,EAASzC,YAIQ,KAAM,MAAM,GAAM,GAAO,KACjE,IAGC,sBAAK+D,UAAU,mBAAf,UACI,cAAC,EAAD,CAASqD,SAAUnE,EAAMgF,gBAAiBL,QAAS3E,EAAM2E,UACzD,cAAC,EAAD,CAAkBR,SAAUnE,EAAM6F,cAAeF,MAAO3F,EAAM2F,QAC9D,cAAC,EAAD,CAAYlE,GAAG,WAAWsE,QAAQ,iBC2I/B0B,GAnLC,WAAO,IAAD,EAEQ3H,mBAAS,CAC/ByB,KAAM,GACNkE,YAAa,GACbzB,SAAU,GACVC,MAAO,GACPyD,aAAc,EACdC,wBAAyB,EACzBC,6BAA8B,EAC9BC,YAAa,GACbC,kBAAmB,IAXL,mBAEX9H,EAFW,KAEJC,EAFI,KAcZC,EAAUC,IAEVC,EAAe,SAACC,GAAO,IAAD,EACFA,EAAEC,OAAhB9D,EADgB,EAChBA,GAAI+D,EADY,EACZA,MACZN,GAAS,SAAAO,GAAS,kCACXA,GADW,kBAEbhE,EAAK+D,QAkCRwH,EAAsB,WAexB,IAaIC,EAAW,IAAIC,SAAS7L,SAASkB,eAAe,YAKpD2B,QAAQC,IAAI8I,GAEZ3I,IAAM,CACFqC,OAAQ,OACRlD,IAAK3C,EAAc,WACnBkB,KAAMiL,IAELzI,MAAK,SAAUC,GACZP,QAAQC,IAAI,kBACZD,QAAQC,IAAIM,EAASzC,MACrBkC,QAAQC,IAAI,oBACZD,QAAQC,IAAIM,EAAS3C,QACrBoC,QAAQC,IAAI,oBACZD,QAAQC,IAAIM,EAASd,SACG,MAApBc,EAAS3C,OAhCR,SAAC2C,GACNA,EAAShD,GACT0D,EAAQW,KAAK,gBAAkBrB,EAAShD,KAGxCgD,EAAQ,2BACDA,GADC,IAEJzC,KAAM,+CAEVd,EAAUuD,IAwBNb,CAAKa,GAGmDvD,EAAUuD,MAGzEC,OAAM,SAAUvD,GACb+C,QAAQC,IAAIhD,GACRA,EAAMsD,UACNP,QAAQC,IAAI,eACZD,QAAQC,IAAIhD,EAAMsD,SAASzC,MAC3BkC,QAAQC,IAAI,iBACZD,QAAQC,IAAIhD,EAAMsD,SAAS3C,QAC3BoC,QAAQC,IAAI,iBACZD,QAAQC,IAAIhD,EAAMsD,SAASd,SACsBzC,EAAUC,EAAMsD,WAGhBvD,EAAUC,EAAMsD,cAKjF,OACI,sBAAKsB,UAAU,mBAAf,UACI,cAAC,EAAD,CAAYqE,QAAQ,EAAMG,QAAQ,IAClC,uBAAM9I,GAAG,UAAUwE,SAjFC,SAACX,GACzBA,EAAEY,iBACE7E,SAASkB,eAAe,WAAW4D,kBACnC6G,KA8EkD5G,aAAa,MAA/D,UACI,gCACI,+CACA,uBAAOC,SAAUhB,EACbG,MAAOP,EAAMuB,KACb/E,GAAG,OACH6E,KAAK,OAAOC,YAAY,YAAYC,KAAK,OAAOC,UAAQ,OAEhE,gCACI,iDACA,uBAAOJ,SAAUhB,EACbG,MAAOP,EAAMyF,YACbjJ,GAAG,cACH6E,KAAK,OAAOC,YAAY,kBAAkBC,KAAK,cAAcC,UAAQ,OAE7E,gCACI,8CACA,uBAAOJ,SAAUhB,EACbG,MAAOP,EAAMgE,SACbxH,GAAG,WACH6E,KAAK,OAAOC,YAAY,0BAA0BC,KAAK,WAAWC,UAAQ,OAElF,gCACI,mDACA,uBAAOJ,SAAUhB,EACbG,MAAOP,EAAM0H,aACblL,GAAG,eACH6E,KAAK,SAASC,YAAY,wBAAwBC,KAAK,eAAeC,UAAQ,OAEtF,gCACI,0EACA,uBAAOJ,SAAUhB,EACbG,MAAOP,EAAM2H,wBACbnL,GAAG,0BACH6E,KAAK,SAASC,YAAY,IAAIC,KAAK,0BAA0BC,UAAQ,OAE7E,gCACI,gDACA,uBAAOH,KAAK,OAAOD,SAjIV,SAACf,GACtB,IAAM6H,EAAO7H,EAAEC,OAAO6H,MAAM,GAC5BlJ,QAAQC,IAAI,UACZD,QAAQC,IAAIgJ,GACZjI,GAAS,SAAAO,GAAS,kCACXA,GADW,IAEdyD,MAAOiE,QA4HK1L,GAAG,QACH+E,KAAK,QAAQC,UAAQ,OAG7B,8BACI,wBAAQH,KAAK,SAAb,kCCrJL+G,GA5BD,SAACvI,GAEXZ,QAAQC,IAAI,UACZD,QAAQC,IAAIW,EAAMuE,SAElB,IAAMiE,EAAc,aAIdC,EAAa,aAInB,OACI,qBAAKxH,UAAU,mBAAf,SACMjB,EAAMuE,QAASC,KAAI,SAAAZ,GAAM,OACvB,sBAAqB3C,UAAU,mBAA/B,UACI,cAAC,EAAD,CAA+B2C,OAAQA,EAAQK,UAAU,GAArCL,EAAOjH,IAC3B,sBAAKsE,UAAU,gBAAf,UACI,wBAAQa,QAAS0G,EAAjB,mBACA,wBAAQ1G,QAAS2G,EAAjB,uBAJE7E,EAAOjH,UCyGlB+L,GApHK,SAAC1I,GAAW,IAAD,EAEDC,mBAAS,CAC/BmG,cAAc,EACdlC,KAAM,KACNmC,0BAA0B,EAC1BC,iBAAkB,KAClBC,OAAQvG,EAAMwG,MAAMC,OAAO9J,GAC3BgM,cAAc,EACdpE,QAAS,OATc,mBAEpBpE,EAFoB,KAEbC,EAFa,KAa3BgF,qBAAU,WAWNvF,EAAS,MAAQ,eAAiBM,EAAMoG,OAAS,IAVpC,SAAC5G,GACVS,GAAS,SAAAO,GACL,OAAO,2BACAA,GADP,IAEIyF,cAAc,EACdlC,KAAMvE,EAASzC,KAAKgH,KACpBK,QAAS5E,EAASzC,KAAKqH,eAIwB,KAAM,MAAM,GAAM,GAAO,KACrF,CAACpE,EAAMoG,SAGVnB,qBAAU,WAUNvF,EAAS,MAAQ,cAAgBM,EAAMoG,OAAS,IATnC,SAAC5G,GACVS,GAAS,SAAAO,GACL,OAAO,2BACAA,GADP,IAEI0F,0BAA0B,EAC1BC,iBAAkB3G,EAASzC,YAImB,KAAM,MAAM,GAAM,GAAO,KACpF,CAACiD,EAAMoG,SASV,OACI,sBAAKtF,UAAU,mBAAf,UAEI,cAAC,EAAD,CAAYqE,QAAQ,EAAMG,QAAQ,IAEjCtF,EAAMiG,aAEH,sBAAKnF,UAAU,wBAAf,UAEI,sBAAKA,UAAU,mBAAf,UAEI,oCAAOd,EAAM+D,KAAKxC,KAAlB,OAEA,oCAAOvB,EAAM+D,KAAKE,MAAlB,OAEA,oCAAOjE,EAAM+D,KAAK0B,YAAlB,OAEA,oCAAOzF,EAAM+D,KAAKC,SAAlB,UAIJ,qBAAKlD,UAAU,mBAAf,SAEKd,EAAMkG,yBACH,6DAAgClG,EAAMmG,oBAEtC,cAAC,cAAD,CAAa7B,MAAO,CAAEN,SAAU,gBAKvChE,EAAM+D,KAAKwC,OACPvG,EAAM+D,KAAKwC,OAAQlC,KAAI,SAAAmC,GAAK,OACzB,sBAAK1F,UAAU,mBAAf,UACI,yCAAYqC,EAAQqD,EAAMpD,QAC1B,gCAAMoD,EAAMC,YAAZ,MAA4BD,EAAME,qBAI1C,MAKR,cAAC,cAAD,CAAapC,MAAO,CAAEN,SAAU,cAIhChE,EAAMiG,aACF,sBAAKnF,UAAU,mBAAf,UACI,yBAASa,QAzDR,WACjB1B,GAAS,SAAAO,GAAS,kCACXA,GADW,IAEdgI,cAAehI,EAAUgI,mBAsDb,UAAiCxI,EAAMwI,aAAe,OAAS,OAA/D,cAEIxI,EAAMwI,aACF,cAAC,GAAD,CAAOpE,QAASpE,EAAMoE,UAEtB,MAIZ,GAGR,cAAC,EAAD,CAAY3C,GAAG,YAAYsE,QAAQ,mCCtGhC0C,GAdO,SAAC5I,GAEnB,IAAM6I,EAAgB7I,EAAM6I,cAE5B,OACI,sBAAK5H,UAAU,6BAAf,UACI,gDAAmB4H,EAAc1B,OAAOxK,GAAxC,QACA,2CAAckM,EAAc1B,OAAOnK,UACnC,0CAAa6L,EAAcC,uBAA3B,aAA6DD,EAAcE,wBAA3E,WCeGC,GAtBE,SAAChJ,GAEd,IAAMiJ,EAAWjJ,EAAMkJ,SAEvB,OACI,sBAAKjI,UAAU,wBAAf,UACI,sBAAKA,UAAU,cAAf,6BAA8CgI,EAAStM,GAAvD,QACA,2CAAcsM,EAASE,aAAvB,IAAqC,uBAArC,QAAiDF,EAASG,WAA1D,OACA,sBAAKnI,UAAU,eAAf,UACI,sBAAKA,UAAU,mBAAf,UACI,qBAAKA,UAAU,cAAf,yCACCgI,EAASI,wBAA2BJ,EAASI,wBAAyB7E,KAAI,SAAAqE,GAAa,OAAI,cAAC,GAAD,CAAeA,cAAeA,OAAoB,MAElJ,sBAAK5H,UAAU,mBAAf,UACI,qBAAKA,UAAU,cAAf,wCACCgI,EAASK,uBAA0BL,EAASK,uBAAwB9E,KAAI,SAAAqE,GAAa,OAAI,cAAC,GAAD,CAAeA,cAAeA,OAAoB,aCQjJU,GAvBO,SAACvJ,GAAW,IAAD,EAEHC,mBAAS,MAFN,mBAEtBE,EAFsB,KAEfC,EAFe,KAQ7B,OACI,sBAAKa,UAAU,mBAAf,UACI,sBAAKA,UAAU,mBAAf,UACI,0DACA,uBAAOM,SARH,SAACf,GACbJ,EAASoJ,KAAKnG,MAAM7C,EAAEC,OAAOC,SAOKc,KAAK,YAEzB,MAATrB,EACG,8BACMA,EAAOqE,KAAI,SAAAyE,GAAQ,OAAI,cAAC,GAAD,CAA4BC,SAAUD,GAAvBA,EAAStM,SAEnD,OCkBH8M,OAtBf,WACI,OACI,cAAC,IAAD,UACI,qBAAK9M,GAAG,MAAMsE,UAAU,MAAxB,SACI,eAAC,IAAD,WACI,cAAC,IAAD,CAAOyI,KAAK,IAAIC,OAAK,EAACC,UAAWjH,IADrC,IAEI,cAAC,IAAD,CAAO+G,KAAK,QAAQC,OAAK,EAACC,UAAW3E,IAFzC,IAGI,cAAC,IAAD,CAAOyE,KAAK,UAAUC,OAAK,EAACC,UAAWlE,IAH3C,IAII,cAAC,IAAD,CAAOgE,KAAK,SAASC,OAAK,EAACC,UAAW7D,IAJ1C,IAKI,cAAC,IAAD,CAAO2D,KAAK,YAAYC,OAAK,EAACC,UAAWzD,IAL7C,IAMI,cAAC,IAAD,CAAOuD,KAAK,cAAcC,OAAK,EAACC,UAAW9C,IAN/C,IAOI,cAAC,IAAD,CAAO4C,KAAK,cAAcC,OAAK,EAACC,UAAWzC,IAP/C,IAQI,cAAC,IAAD,CAAOuC,KAAK,eAAeC,OAAK,EAACC,UAAWjC,KARhD,IASI,cAAC,IAAD,CAAO+B,KAAK,WAAWC,OAAK,EAACC,UAAWhC,KAT5C,IAUI,cAAC,IAAD,CAAO8B,KAAK,mBAAmBC,OAAK,EAACC,UAAWlB,KAVpD,IAWI,cAAC,IAAD,CAAOgB,KAAK,YAAYC,OAAK,EAACC,UAAWL,aCpB9CM,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBrK,MAAK,YAAkD,IAA/CsK,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFhO,SAASkB,eAAe,SAM1BoM,M","file":"static/js/main.1d04bce2.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/LoginPageClupLogo.13974f22.png\";","export const SSW_URL_API = \"http://localhost:8081/SSW-1.0-SNAPSHOT/api/SSW\";\r\nexport const QSW_URL_API = \"http://localhost:8089/QSW-1.0-SNAPSHOT/api/QSW\";\r\nexport const AMW_URL_API = \"http://localhost:8082/AMW-1.0-SNAPSHOT/api/AMW\";\r\nexport const ACCESS_TOKEN_NAME = 'login_access_token';","import '../css/Error.css';\r\n\r\nexport const showError = (error) => {\r\n\r\n    if (error != null) {\r\n\r\n        let ErrorBackground = document.createElement(\"div\");\r\n        ErrorBackground.classList.add(\"errorBackground\");\r\n        ErrorBackground.id = \"error\";\r\n\r\n\r\n        let Error = document.createElement(\"div\");\r\n        Error.classList.add(\"flexColumnCenter\");\r\n        Error.classList.add(\"error\");\r\n\r\n        let h3_1 = document.createElement(\"h3\");\r\n        h3_1.innerHTML = \"ERROR!\";\r\n\r\n        let h3_2 = document.createElement(\"h3\");\r\n        h3_2.innerHTML = \"STATUS CODE: \" + error.status;\r\n\r\n        let h3_3 = document.createElement(\"h3\");\r\n        h3_3.innerHTML = \"ERROR MESSAGE: \" + error.data;\r\n\r\n        let buttonToLogin = document.createElement(\"button\");\r\n        buttonToLogin.innerHTML = \"Go to Login\";\r\n        const handleToLogin = () => {\r\n            window.location.href = \"/\";\r\n        }\r\n        buttonToLogin.addEventListener(\"click\", handleToLogin);\r\n\r\n        let buttonClose = document.createElement(\"button\");\r\n        buttonClose.innerHTML = \"Close\";\r\n        const handleClose = () => {\r\n            document.getElementById(\"App\").removeChild(document.getElementById(\"error\"));\r\n        }\r\n        buttonClose.addEventListener(\"click\", handleClose);\r\n\r\n        Error.appendChild(h3_1);\r\n        Error.appendChild(h3_2);\r\n        Error.appendChild(h3_3);\r\n        Error.appendChild(buttonToLogin);\r\n        Error.appendChild(buttonClose);\r\n\r\n        ErrorBackground.appendChild(Error);\r\n\r\n        document.getElementById(\"App\").appendChild(ErrorBackground);\r\n    }\r\n}","import axios from 'axios';\r\nimport { AMW_URL_API, QSW_URL_API, SSW_URL_API, ACCESS_TOKEN_NAME } from '../constants/urlsAPI.js';\r\nimport { DEBUG_MODE } from '../constants/debug.js';\r\nimport { showError } from './showError.js';\r\n\r\nconst BASE_HEADERS_POST = {\r\n    \"accept\": \"application/json\",\r\n    \"Content-Type\": \"application/json\"\r\n}\r\n\r\nconst BASE_HEADERS_GET = {\r\n    \"accept\": \"application/json\"\r\n}\r\n\r\nconst USERNAME = 'username';\r\nconst IS_MANAGER = 'isManager';\r\n\r\nexport const getSessionToken = () => {\r\n    return localStorage.getItem(ACCESS_TOKEN_NAME);\r\n}\r\n\r\nexport const setSessionToken = (token) => {\r\n    localStorage.setItem(ACCESS_TOKEN_NAME, token);\r\n}\r\n\r\nexport const getUsernameLocal = () => {\r\n    return localStorage.getItem(USERNAME);\r\n}\r\n\r\nexport const setUsernameLocal = (username, isManager) => {\r\n    localStorage.setItem(USERNAME, username);\r\n    localStorage.setItem(IS_MANAGER, isManager);\r\n}\r\n\r\nexport const axiosPOST = (service, url, payload, headers, onOk, on500, onError, useOldSessionToken, setNewSessionToken, useUsername) => {\r\n    console.log(\"############################################\");\r\n    console.log(\"ASYNC HTTP REQUEST:\");\r\n\r\n    const config = {\r\n        headers: {\r\n            ...headers,\r\n            ...BASE_HEADERS_POST\r\n        }\r\n    }\r\n\r\n    if (useOldSessionToken) {\r\n        console.log(\"old session-token: \" + getSessionToken() + \" .\");\r\n        config.headers['session-token'] = getSessionToken();\r\n    }\r\n    if (useUsername) {\r\n        console.log(\"username: \" + getUsernameLocal());\r\n        config.headers['username'] = getUsernameLocal();\r\n    }\r\n\r\n    var URL;\r\n\r\n    if (service === \"AMW\") {\r\n        URL = AMW_URL_API;\r\n    }\r\n    else if (service === \"QSW\") {\r\n        URL = QSW_URL_API;\r\n    }\r\n    else {\r\n        URL = SSW_URL_API;\r\n    }\r\n\r\n    URL += url;\r\n\r\n    console.log(\"POST\");\r\n    console.log(URL);\r\n    console.log(payload);\r\n    console.log(config.headers);\r\n    console.log(\"useOldSessionToken: \" + useOldSessionToken);\r\n    console.log(\"setNewSessionToken: \" + setNewSessionToken);\r\n    console.log(\"useUsername: \" + useUsername);\r\n    console.log(\"--------------------------------------------\");\r\n    console.log(\"HTTP RESPONSE:\");\r\n\r\n    axios.post(URL, payload, config)\r\n    .then(function (response) {\r\n        console.log(\"response data:\");\r\n        console.log(response.data);\r\n        console.log(\"response status:\");\r\n        console.log(response.status);\r\n        console.log(\"response headers\");\r\n        console.log(response.headers);\r\n        if (response.status === 200) {\r\n            if (setNewSessionToken) {\r\n                console.log(\"new session-token: \" + response.headers[\"session-token\"] + \" .\");\r\n                setSessionToken(response.headers[\"session-token\"]);\r\n            }\r\n            onOk(response);\r\n        }\r\n        else {\r\n            DEBUG_MODE ? console.log(\"(correct, but not 200:) Should redirect to /Error\") : showError(response);\r\n        }\r\n    })\r\n    .catch(function (error) {\r\n        console.log(error);\r\n        if (error.response) {\r\n            console.log(\"error data:\");\r\n            console.log(error.response.data);\r\n            console.log(\"error status:\");\r\n            console.log(error.response.status);\r\n            console.log(\"error headers\");\r\n            console.log(error.response.headers);\r\n            if (on500 !== null && error.response.status === 500) {\r\n                on500(error);\r\n            }\r\n            else {\r\n                DEBUG_MODE ? console.log(\"(on500:) redirect to /Error\") : showError(error.response);\r\n            }\r\n        }\r\n        else {\r\n            if (onError !== null) {\r\n                onError(error);\r\n            }\r\n            else {\r\n                DEBUG_MODE ? console.log(\"(onError:) redirect to /Error\") : showError(error.response);\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\nexport const axiosGET = (service, url, headers, onOk, on500, onError, useOldSessionToken, setNewSessionToken, useUsername) => {\r\n    console.log(\"############################################\");\r\n    console.log(\"ASYNC HTTP REQUEST:\");\r\n\r\n    const config = {\r\n        headers: {\r\n            ...headers,\r\n            ...BASE_HEADERS_GET\r\n        }\r\n    }\r\n\r\n    if (useOldSessionToken) {\r\n        config.headers['session-token'] = getSessionToken();\r\n    }\r\n    if (useUsername) {\r\n        config.headers['username'] = getUsernameLocal();\r\n    }\r\n\r\n    var URL;\r\n\r\n    if (service === \"AMW\") {\r\n        URL = AMW_URL_API;\r\n    }\r\n    else if (service === \"QSW\") {\r\n        URL = QSW_URL_API;\r\n    }\r\n    else {\r\n        URL = SSW_URL_API;\r\n    }\r\n\r\n    URL += url;\r\n\r\n    console.log(\"GET\");\r\n    console.log(URL);\r\n    console.log(config.headers);\r\n    console.log(\"useOldSessionToken: \" + useOldSessionToken);\r\n    console.log(\"setNewSessionToken: \" + setNewSessionToken);\r\n    console.log(\"useUsername: \" + useUsername);\r\n    console.log(\"--------------------------------------------\");\r\n    console.log(\"HTTP RESPONSE:\");\r\n\r\n    axios.get(URL, config)\r\n        .then(function (response) {\r\n            console.log(\"response data:\");\r\n            console.log(response.data);\r\n            console.log(\"response status:\");\r\n            console.log(response.status);\r\n            console.log(\"response headers\");\r\n            console.log(response.headers);\r\n            if (response.status === 200) {\r\n                if (setNewSessionToken) {\r\n                    console.log(\"new session-token: \" + response.headers[\"session-token\"] + \" .\");\r\n                    setSessionToken(response.headers[\"session-token\"]);\r\n                }\r\n                onOk(response);\r\n            }\r\n            else {\r\n                DEBUG_MODE ? console.log(\"(correct, but not 200:) Should redirect to /Error\") : showError(response);\r\n            }\r\n        })\r\n        .catch(function (error) {\r\n            console.log(error);\r\n            if (error.response) {\r\n                console.log(\"error data:\");\r\n                console.log(error.response.data);\r\n                console.log(\"error status:\");\r\n                console.log(error.response.status);\r\n                console.log(\"error headers\");\r\n                console.log(error.response.headers);\r\n                if (on500 !== null && error.response.status === 500) {\r\n                    on500(error);\r\n                }\r\n                else {\r\n                    DEBUG_MODE ? console.log(\"(on500:) redirect to /Error\") : showError(error.response);\r\n                }\r\n            }\r\n            else {\r\n                if (onError !== null) {\r\n                    onError(error);\r\n                }\r\n                else {\r\n                    DEBUG_MODE ? console.log(\"(onError:) redirect to /Error\") : showError(error.response);\r\n                }\r\n            }\r\n        });\r\n}","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { axiosPOST, setUsernameLocal } from '../../utils/httpRequest.js';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst Loginform = (props) => {\r\n    \r\n    const [state, setState] = useState({\r\n        username: \"\",\r\n        password: \"\",\r\n    });\r\n\r\n    const history = useHistory();\r\n\r\n    const handleChange = (e) => {\r\n        const { id, value } = e.target\r\n        setState(prevState => ({\r\n            ...prevState,\r\n            [id]: value\r\n        }))\r\n    }\r\n\r\n    const handleLoginSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (e.target.reportValidity()) {\r\n            sendLoginToServer();\r\n        }\r\n    }\r\n\r\n    const sendLoginToServer = () => {\r\n        if ((state.username.length !== 0) && (state.password.length !== 0)) {\r\n            const payload = {\r\n                \"username\": state.username,\r\n                \"password\": state.password\r\n            }\r\n            const onOk = (response) => {\r\n                setUsernameLocal(response.data.username, response.data.isManager);\r\n                console.log(\"username setted in local storage: \" + response.data.username);\r\n                if (response.data.isManager) {\r\n                    redirectToManagerHome();\r\n                }\r\n                else {\r\n                    redirectToHome();\r\n                }\r\n            }\r\n            axiosPOST(\"AMW\", \"/login\", payload, {}, onOk, null, null, false, true, false);\r\n        }\r\n    }\r\n\r\n    const redirectToHome = () => {\r\n        history.push(\"/Home\");\r\n    }\r\n    const redirectToManagerHome = () => {\r\n        history.push(\"/HomeManager\");\r\n    }\r\n\r\n    return (\r\n        <div className=\"loginFormContainer\">\r\n            {\r\n                props.open ?\r\n                    <form onSubmit={handleLoginSubmit} autoComplete=\"off\">\r\n                        <div className=\"inputContainer\">\r\n                            <h3>Login to your account</h3>\r\n                            <div className=\"flexColumnCenter\">\r\n                                <label className=\"labelSignup\">Username</label>\r\n                                <input onChange={handleChange}\r\n                                    value={state.username}\r\n                                    id=\"username\"\r\n                                    type=\"text\" placeholder=\"Username\" name=\"username\" required />\r\n                            </div>\r\n                            <div className=\"flexColumnCenter\">\r\n                                <label className=\"labelSignup\">Password</label>\r\n                                <input onChange={handleChange}\r\n                                    id=\"password\"\r\n                                    value={state.password}\r\n                                    type=\"password\" placeholder=\"Password\" name=\"password\" required />\r\n                            </div>\r\n                            <button className=\"activeButton\" type=\"submit\">Confirm</button>\r\n                        </div>\r\n                        <div className=\"forgotPasswordContainer\">\r\n                            <span>Forgot <Link to=\"/\">password?</Link></span>\r\n                        </div>\r\n                    </form>\r\n                    :\r\n                    <form method=\"post\" autoComplete=\"off\">\r\n                        <div className=\"inputContainer\">\r\n                            <h3> Already have an account?</h3>\r\n                            <button className=\"activeButton\" onClick={props.renderLogin}>Login</button>\r\n                        </div>\r\n                    </form>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Loginform;","import React, { useState } from 'react';\r\nimport { axiosPOST, setUsernameLocal } from '../../utils/httpRequest';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst Signupform = (props) => {\r\n\r\n    const [state, setState] = useState({\r\n        nextBool: false,\r\n        username: \"\",\r\n        password: \"\",\r\n        repeatPassword: \"\",\r\n        email: \"\",\r\n        phonenumber: \"\",\r\n        shopOwner: false,\r\n        credentialError: null\r\n    });\r\n\r\n    const history = useHistory();\r\n\r\n    const handleChange = (e) => {\r\n        const { id, value } = e.target\r\n        setState(prevState => ({\r\n            ...prevState,\r\n            [id]: value\r\n        }))\r\n    }\r\n\r\n    const handleCheckbox = (e) =>{\r\n        const {id, checked} = e.target;\r\n        console.log(checked);\r\n        setState(prevState => ({\r\n            ...prevState,\r\n            [id]: checked\r\n        }))\r\n    }\r\n\r\n    const checkValidity = (e) => {\r\n        if (document.getElementById(\"signupForm\").reportValidity()) {\r\n            setState(prevState => ({\r\n                ...prevState,\r\n                nextBool: true\r\n            }))\r\n        }\r\n    }\r\n\r\n    const handleSignupSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (state.nextBool !== true) {\r\n            return;\r\n        }\r\n        if (document.getElementById(\"signupForm\").reportValidity()) {\r\n            if (state.password === state.repeatPassword) {\r\n                sendSignupToServer();\r\n            }\r\n            else {\r\n                //TODO should find better way\r\n                alert(\"password do not match!\");\r\n            }\r\n        }\r\n    }\r\n\r\n    const sendSignupToServer = () => {\r\n        const payload = {\r\n            \"username\": state.username,\r\n            \"password\": state.password,\r\n            \"password2\": state.repeatPassword,\r\n            \"email\": state.email,\r\n            \"phoneNumber\": state.phonenumber,\r\n            \"isManager\": state.shopOwner\r\n        }\r\n        const onOk = (response) => {\r\n            setUsernameLocal(response.data.username, response.data.isManager);\r\n            console.log(\"username setted in local storage: \" + response.data.username);\r\n            if(response.data.isManager){\r\n                redirectToManagerHome();\r\n            }\r\n            else{\r\n                redirectToHome();\r\n            }\r\n        }\r\n        axiosPOST(\"AMW\", \"/registration\", payload, {}, onOk, null, null, false, true, false);\r\n    }\r\n\r\n    const redirectToHome = () => {\r\n        history.push(\"/Home\");\r\n    }\r\n    const redirectToManagerHome = () => {\r\n        history.push(\"/HomeManager\");\r\n    }\r\n\r\n    return (\r\n        <div className=\"loginFormContainer\">\r\n            {props.open ?\r\n                <form onSubmit={handleSignupSubmit} id=\"signupForm\" autoComplete=\"off\">\r\n                    {!state.nextBool ?\r\n                        <div className=\"inputContainer\">\r\n                            <h3>Create a new account</h3>\r\n                            <div className=\"flexColumnCenter\">\r\n                                <label className=\"labelSignup\">Username</label>\r\n                                <input onChange={handleChange}\r\n                                    value={state.username}\r\n                                    id=\"username\"\r\n                                    type=\"text\" placeholder=\"Username\" name=\"username\" required />\r\n                            </div>\r\n                            <div className=\"flexColumnCenter\">\r\n                                <label className=\"labelSignup\">Email</label>\r\n                                <input onChange={handleChange}\r\n                                    value={state.email}\r\n                                    id=\"email\"\r\n                                    type=\"email\" placeholder=\"email@example.com\" name=\"email\" required />\r\n                            </div>\r\n                            <div className=\"flexColumnCenter\">\r\n                                <label className=\"labelSignup\">Phone number</label>\r\n                                <input onChange={handleChange}\r\n                                    value={state.phonenumber}\r\n                                    id=\"phonenumber\"\r\n                                    type='number' placeholder=\"+39 0123456789\" name=\"phoneNumber\" required />\r\n                            </div>\r\n                            <div className=\"flexColumnCenter\">\r\n                                <label className=\"labelSignup\">Are you a shop owner?</label>\r\n                                <input onChange={handleCheckbox}\r\n                                    value={state.shopOwner}\r\n                                    id=\"shopOwner\"\r\n                                    type=\"checkbox\" name=\"shopOwner\" />\r\n                            </div>\r\n                            <button className=\"activeButton\" onClick={checkValidity}>Next</button>\r\n                        </div>\r\n                        :\r\n                        <div className=\"inputContainer\">\r\n                            <h3>Create a password</h3>\r\n                            <div className=\"flexColumnCenter\">\r\n                                <label className=\"labelSignup\">Password</label>\r\n                                <input onChange={handleChange}\r\n                                    value={state.password}\r\n                                    id=\"password\"\r\n                                    type=\"password\" placeholder=\"Password\" name=\"password\" required />\r\n                            </div>\r\n                            <div className=\"flexColumnCenter\">\r\n                                <label className=\"labelSignup\">Repeat password</label>\r\n                                <input onChange={handleChange}\r\n                                    value={state.repeatPassword}\r\n                                    id=\"repeatPassword\" type=\"password\" placeholder=\"Repeat password\" name=\"repeatPassword\" required />\r\n                            </div>\r\n                            <div className=\"flexRowCenter\">\r\n                                <button className=\"activeButton\" type=\"submit\" onClick={() => {\r\n                                    setState(prevState => ({\r\n                                        ...prevState,\r\n                                        'nextBool': false\r\n                                    }));\r\n                                }}> Back </button>\r\n                                <button className=\"activeButton\">Confirm</button>\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                </form>\r\n                :\r\n                <form id=\"signupForm\" autoComplete=\"off\">\r\n                    <h3> Don't have an account?</h3>\r\n                    <button className=\"activeButton\" onClick={props.renderSignup}>Signup</button>\r\n                </form>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Signupform;","import React, { useState } from 'react';\r\nimport '../css/Start.css';\r\nimport logo from '../images/LoginPageClupLogo.png';\r\nimport Loginform from './sub-components/Loginform';\r\nimport Signupform from './sub-components/Signupform';\r\n\r\nconst Start = () => {\r\n\r\n    const [state, setState] = useState(\"login\");\r\n\r\n    const renderLogin = () => {\r\n        setState(\"login\");\r\n    }\r\n    const renderSignup = () => {\r\n        setState(\"signup\");\r\n    }\r\n\r\n    return (\r\n        <div className=\"appContainer\">\r\n            <div className={`topContainer ${(state === \"login\") ? 'topContainerOpen' : 'topContainerClosed'}`}>\r\n                <div className=\"clupLogoContainer\">\r\n                    <img src={logo} alt=\"\" />\r\n                </div>\r\n                <Loginform open={(state === \"login\") ? true : false} renderLogin={renderLogin}/>\r\n            </div>\r\n            <div className={`bottomContainer ${(state === \"login\") ? 'bottomContainerClosed' : 'bottomContainerOpen'}`}>\r\n                <Signupform open={(state === \"login\") ? false : true} renderSignup={renderSignup}/>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Start;","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst Searchsection = () => {\r\n\r\n    const history = useHistory();\r\n\r\n    const handleClick = () =>{\r\n        history.push('/Search');\r\n    }\r\n    \r\n    return(\r\n        <div>\r\n            <h3 onClick={handleClick}> Where do you want to go? </h3>\r\n        </div>\r\n    );  \r\n}\r\n\r\nexport default Searchsection;","export const dateToMinutes = (date) => {\r\n    return Math.ceil((Date.parse(date) / 1000) / 60);\r\n}\r\n\r\nexport const calcDay = (data) => {\r\n    \r\n    var day = data.toString();\r\n    \r\n    var s = \"\";\r\n\r\n    if (day.contains(\"1\")) {\r\n        s += \"Monday; \";\r\n    }\r\n    if (day.contains(\"2\")) {\r\n        s += \"Tuesday; \";\r\n    }\r\n    if (day.contains(\"3\")) {\r\n        s += \"Wednesday; \";\r\n    }\r\n    if (day.contains(\"4\")) {\r\n        s += \"Thursday; \";\r\n    }\r\n    if (day.contains(\"5\")) {\r\n        s += \"Friday; \";\r\n    }\r\n    if (day.contains(\"6\")) {\r\n        s += \"Saturday; \";\r\n    }\r\n    if (day.contains(\"7\")) {\r\n        s += \"Sunday; \";\r\n    }\r\n    if (day.contains(\"0\")) {\r\n        s += \"Every Day of the Week;\";\r\n    }\r\n\r\n    return s;\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { dateToMinutes } from '../../utils/dateParser';\r\n\r\nconst TicketElement = (props) => {\r\n\r\n    const history = useHistory();\r\n\r\n    const handleOnClickTicket = () => {\r\n        history.push('/Ticket/' + props.ticket.id);\r\n    }\r\n\r\n    const handleOnClickShop = () => {\r\n        history.push('/Shop/' + props.ticket.shop.id);\r\n    }\r\n\r\n    return (\r\n        <div className=\"flexColumnCenter card\">\r\n\r\n            <bold>TICKET (ID: {props.ticket.id})</bold>\r\n\r\n            <div className=\"clickable\" onClick={handleOnClickTicket}>\r\n\r\n                <div> Status: {props.ticket.status} </div>\r\n\r\n                <div> Time To Reach The Shop: {dateToMinutes(props.ticket.timeToReachTheShop)} minutes </div>\r\n\r\n                <div> Declared duration of the Permanence: {dateToMinutes(props.ticket.expectedDuration)} minutes </div>\r\n\r\n                <div className=\"flexColumnCenter\">\r\n\r\n                    {props.ticket.scheduledEnteringTime ? <div> Scheduled Entering Time: {props.ticket.scheduledEnteringTime} </div> : \"\"}\r\n\r\n                    {props.ticket.scheduledExitingTime ? <div> Scheduled Exiting Time: {props.ticket.scheduledExitingTime} </div> : \"\"}\r\n\r\n                </div>\r\n\r\n            </div>\r\n\r\n            {\r\n                props.showShop ?\r\n                    <div className=\"flexColumnCenter clickable\" onClick={handleOnClickShop}>\r\n\r\n                        <div> Shop Name {props.ticket.shop.name} </div>\r\n\r\n                        <div> Shop Position {props.ticket.shop.position} </div>\r\n\r\n                        <div> Shop Image {props.ticket.shop.image} </div>\r\n\r\n                    </div>\r\n                    :\r\n                    \"\"\r\n            }\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default TicketElement;","import React from 'react';\r\nimport TicketElement from './TicketElement';\r\nimport { WaveLoading } from 'react-loadingg';\r\n\r\nconst TicketsList = (props) => {\r\n\r\n    if (props.isLoaded) { \r\n        return (\r\n            <div className=\"flexColumnCenter\">\r\n                {(props.tickets !== null && props.tickets.length !== 0) ?\r\n                    (props.tickets).map(ticket => <TicketElement key={ticket.id} ticket={ticket} showShop={true}/>)\r\n                    :\r\n                    \"You have no tickets.\"\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n    else {\r\n        return <div className=\"flexColumnCenter\"> <WaveLoading style={{position: \"relative\"}}/></div>\r\n    }\r\n}\r\n\r\nexport default TicketsList;","import React, { useState } from 'react';\r\nimport { WaveLoading } from 'react-loadingg';\r\nimport { ACCESS_TOKEN_NAME } from '../../constants/urlsAPI.js';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { axiosGET } from '../../utils/httpRequest.js';\r\n\r\nconst Account = (props) => {\r\n    \r\n    const history = useHistory();\r\n\r\n    const [accountToggler, setAccountToggler] = useState(false);\r\n\r\n    const toggleAccount = () => {\r\n        setAccountToggler(!accountToggler);\r\n    }\r\n\r\n    const handleLogout = () => {\r\n        const onOk = (response) =>{\r\n            localStorage.removeItem(ACCESS_TOKEN_NAME);\r\n            history.push(\"/\");\r\n        };\r\n        axiosGET(\"AMW\", \"/logout\", {}, onOk, null, null, false, false, true);\r\n    }\r\n\r\n    if (props.isLoaded) {\r\n        return (\r\n            <div className=\"flexColumnCenter\">\r\n                { accountToggler\r\n                    ?\r\n                    <div>\r\n                        <div> Account info: </div>\r\n                        <div> Username: {props.account.username} </div>\r\n                        <div> Email: {props.account.email} </div>\r\n                        <div> Phone Number: {props.account.phoneNumber} </div>\r\n                        <div> isManager: {props.account.isManager ? \"true\" : \"false\"} </div>\r\n                        <button onClick={handleLogout}> Logout </button>\r\n                        <button onClick={toggleAccount}> close </button>\r\n                    </div>\r\n                    :\r\n                    <div>\r\n                        <button onClick={toggleAccount}> Account </button>\r\n                    </div>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n    else {\r\n        return <div className=\"flexColumnCenter\"> <WaveLoading style={{position: \"relative\"}}/></div>\r\n    }\r\n}\r\n\r\nexport default Account;","import React, { useEffect, useState } from 'react';\r\nimport Searchsection from './sub-components/Searchsection';\r\nimport TicketsList from './sub-components/TicketsList';\r\nimport Account from './sub-components/Account';\r\nimport { axiosGET } from '../utils/httpRequest.js';\r\n\r\n\r\nconst Home = () => {\r\n\r\n    const [state, setState] = useState({\r\n        isLoadedTickets: false,\r\n        isLoadedAccount: false,\r\n        tickets: null,\r\n        account: null\r\n    });\r\n\r\n    //fetch tickets info\r\n    useEffect(() => {\r\n        const onOk = (response) => {\r\n            setState(prevState => {\r\n                return {\r\n                    ...prevState,\r\n                    isLoadedTickets: true,\r\n                    tickets: response.data\r\n                }\r\n            });\r\n        }\r\n        axiosGET(\"SSW\", \"/tickets\", {}, onOk, null, null, true, false, true);\r\n    }, []);\r\n\r\n    //fetch account info\r\n    useEffect(() => {\r\n        const onOk = (response) => {\r\n            setState(prevState => {\r\n                return {\r\n                    ...prevState,\r\n                    isLoadedAccount: true,\r\n                    account: response.data\r\n                }\r\n            });\r\n        }\r\n        axiosGET(\"AMW\", \"/userinfo\", {}, onOk, null, null, true, false, true);\r\n    }, []);\r\n\r\n    return (\r\n        <div>\r\n            <Account isLoaded={state.isLoadedAccount} account={state.account} />\r\n            <Searchsection />\r\n            <TicketsList isLoaded={state.isLoadedTickets} tickets={state.tickets} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Home;","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst GoBackButton = () => {\r\n\r\n    const history = useHistory();\r\n\r\n    return (\r\n        <button onClick={() => { history.goBack() }}> Go back </button>\r\n    );\r\n}\r\n\r\nexport default GoBackButton;","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst GoHomeButton = () => {\r\n\r\n    const history = useHistory();\r\n\r\n    return (\r\n        <button onClick={() => { localStorage.getItem(\"isManager\") ? history.push(\"/HomeManager\") : history.push(\"/Home\") }}> Home </button>\r\n    );\r\n}\r\n\r\nexport default GoHomeButton;","import React from 'react';\r\nimport GoBackButton from './GoBackButton';\r\nimport GoHomeButton from './GoHomeButton';\r\nimport Account from './Account';\r\n\r\nconst Navigation = (props) => {\r\n\r\n    return (\r\n        <div className=\"flexRowCenter\">\r\n            {props.goBack ? <GoBackButton /> : \"\"}\r\n            {props.goHome ? <GoHomeButton /> : \"\"} \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Navigation;","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Navigation from './sub-components/Navigation';\r\n\r\nconst Search = () => {\r\n\r\n    const history = useHistory();\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        alert(\"function not availble\");\r\n    }\r\n\r\n    const handleAllShops = () => {\r\n        history.push(\"/Shops\");\r\n    }\r\n\r\n    return (\r\n        <div className=\"flexColumnCenter\">\r\n            \r\n            <Navigation goBack={true} goHome={false} />\r\n            \r\n            <div className=\"flexRowCenter\">\r\n            \r\n                <form onSubmit={handleSubmit}>\r\n            \r\n                    <input id=\"searchInput\" name=\"searchInput\" type=\"text\" placeholder=\"search a shop\"></input>\r\n            \r\n                    <button type=\"submit\"> search </button>\r\n            \r\n                </form>\r\n            \r\n            </div>\r\n            \r\n            <div>\r\n            \r\n                <button onClick={handleAllShops}> ALL SHOPS </button>\r\n            \r\n            </div>\r\n        \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Search;","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst ShopElement = (props) => {\r\n\r\n    const history = useHistory();\r\n\r\n    const handleOnClick = ()=>{\r\n        history.push('/Shop/' + props.shop.id);\r\n    }\r\n\r\n    return (\r\n        <div className=\"flexColumnCenter card clickable\" onClick={handleOnClick}>\r\n            \r\n            <div> {props.shop.name} </div>\r\n            \r\n            <div> {props.shop.image} </div>\r\n            \r\n            <div> {props.shop.description} </div>\r\n            \r\n            <div> {props.shop.position} </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ShopElement;","import React from 'react';\r\nimport ShopElement from './ShopElement';\r\nimport { WaveLoading } from 'react-loadingg';\r\n\r\nconst ShopsList = (props) => { \r\n    if (props.isLoaded) {\r\n        return (\r\n            <div className=\"flexColumnCenter\">\r\n                {(props.shops !== null && props.shops.length !== 0) ?\r\n                    (props.shops).map(shop => <ShopElement key={shop.id} shop={shop} />)\r\n                    :\r\n                    \"There are no shops.\"\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n    else {\r\n        return <div className=\"flexColumnCenter\"> <WaveLoading style={{position: \"relative\"}}/></div>\r\n    }\r\n}\r\n\r\nexport default ShopsList;","import React, { useState, useEffect } from 'react';\r\nimport { axiosGET } from '../utils/httpRequest';\r\nimport Searchsection from './sub-components/Searchsection';\r\nimport ShopsList from './sub-components/ShopsList';\r\nimport Navigation from './sub-components/Navigation';\r\n\r\nconst Shops = () => {\r\n\r\n    const [state, setState] = useState({\r\n        isLoadedShops: false,\r\n        shops: null,\r\n    });\r\n\r\n    //fetch shops info\r\n    useEffect(() => {\r\n        const onOk = (response) => {\r\n            setState(prevState => {\r\n                return {\r\n                    ...prevState,\r\n                    isLoadedShops: true,\r\n                    shops: response.data\r\n                }\r\n            });\r\n        }\r\n        axiosGET(\"SSW\", \"/AllShops\", {}, onOk, null, null, true, false, true);\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"flexColumnCenter\">\r\n            <Navigation goBack={true} goHome={true} />\r\n            <Searchsection />\r\n            <ShopsList isLoaded={state.isLoadedShops} shops={state.shops} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Shops;","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst GoToButton = (props) => {\r\n\r\n    const history = useHistory();\r\n\r\n    return (\r\n        <button onClick={() => { history.push(props.to) }}> {props.content} </button>\r\n    );\r\n}\r\n\r\nexport default GoToButton;","import React, { useState, useEffect } from 'react';\r\nimport { WaveLoading } from 'react-loadingg';\r\nimport { calcDay } from '../utils/dateParser.js';\r\nimport { axiosGET } from '../utils/httpRequest.js';\r\nimport Navigation from './sub-components/Navigation';\r\nimport GoToButton from './sub-components/GoToButton.js';\r\n\r\nconst Shop = (props) => {\r\n\r\n    const [state, setState] = useState({\r\n        isLoadedShop: false,\r\n        shop: null,\r\n        isLoadedQueueMaxDuration: false,\r\n        queueMaxDuration: null,\r\n        shopId: props.match.params.id\r\n    });\r\n\r\n    //fetch shop info\r\n    useEffect(() => {\r\n        const onOk = (response) => {\r\n            setState(prevState => {\r\n                return {\r\n                    ...prevState,\r\n                    isLoadedShop: true,\r\n                    shop: response.data.shop\r\n                }\r\n            });\r\n        }\r\n        axiosGET(\"SSW\", (\"/shopDetail/\" + state.shopId), {}, onOk, null, null, true, false, true);\r\n    }, [state.shopId]);\r\n\r\n    //fetch queue expected duration\r\n    useEffect(() => {\r\n        const onOk = (response) => {\r\n            setState(prevState => {\r\n                return {\r\n                    ...prevState,\r\n                    isLoadedQueueMaxDuration: true,\r\n                    queueMaxDuration: response.data\r\n                }\r\n            });\r\n        }\r\n        axiosGET(\"QSW\", (\"/queueInfo/\" + state.shopId), {}, onOk, null, null, true, false, true);\r\n    }, [state.shopId]);\r\n\r\n    return (\r\n        <div className=\"flexColumnCenter\">\r\n\r\n            <Navigation goBack={true} goHome={true} />\r\n            \r\n            {state.isLoadedShop ?\r\n\r\n                <div className=\"flexColumnCenter card\">\r\n\r\n                    <div className=\"flexColumnCenter\">\r\n\r\n                        <div> {state.shop.name} </div>\r\n\r\n                        <div> {state.shop.image} </div>\r\n\r\n                        <div> {state.shop.description} </div>\r\n\r\n                        <div> {state.shop.position} </div>\r\n\r\n                    </div>\r\n\r\n                    <div className=\"flexColumnCenter\">\r\n\r\n                        {state.isLoadedQueueMaxDuration ?\r\n                            <div> Expected Queue duration: {state.queueMaxDuration}</div>\r\n                            :\r\n                            <WaveLoading style={{position: \"relative\"}}/>\r\n                        }\r\n\r\n                    </div>\r\n\r\n                    {state.shop.shifts ?\r\n                        (state.shop.shifts).map(shift =>\r\n                            <div className=\"flexColumnCenter\">\r\n                                <div> Day: {calcDay(shift.day)}</div>\r\n                                <div>{shift.openingTime} - {shift.closingTime}</div>\r\n                            </div>\r\n                        )\r\n                        :\r\n                        \"\"\r\n                    }\r\n\r\n                    <GoToButton to={\"/Lineup/\" + state.shopId} content=\"Enqueue\" />\r\n\r\n                </div>\r\n                :\r\n                <WaveLoading style={{position: \"relative\"}}/>\r\n            }\r\n\r\n        </div >\r\n    );\r\n}\r\n\r\nexport default Shop;","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { axiosPOST } from '../utils/httpRequest';\r\nimport { showError } from '../utils/showError';\r\nimport Navigation from './sub-components/Navigation';\r\n\r\nconst Lineup = (props) => {\r\n\r\n    const [state, setState] = useState({\r\n        ttr: \"\",\r\n        duration: \"\",\r\n        shopId: parseInt(props.match.params.id)\r\n    });\r\n\r\n    const history = useHistory();\r\n\r\n    const handleChange = (e) => {\r\n        const { id, value } = e.target\r\n        setState(prevState => ({\r\n            ...prevState,\r\n            [id]: value\r\n        }))\r\n    }\r\n\r\n    const handleLineupSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (document.getElementById(\"lineUp\").reportValidity()) {\r\n            sendLineUpToServer();\r\n        }\r\n    }\r\n\r\n    const sendLineUpToServer = () => {\r\n\r\n        var ttr = new Date(state.ttr*60*1000);\r\n\r\n        var duration = new Date(state.duration*60*1000);\r\n\r\n        const payload = {\r\n            \"timeToGetToTheShop\": ttr,\r\n            \"permanence\": duration,\r\n            \"shopid\": state.shopId\r\n        }\r\n        const onOk = (response) => {\r\n            if (response.data.id) {\r\n                history.push('/Ticket/' + response.data.id);\r\n            }\r\n            else {\r\n                response = {\r\n                    ...response,\r\n                    data: \"server was not ble to enqueue you (Lineup.js message, because response has no body)\"\r\n                }\r\n                showError(response);\r\n            }\r\n        }\r\n        axiosPOST(\"QSW\", \"/enqueue\", payload, {}, onOk, null, null, true, false, true);\r\n    }\r\n\r\n    return (\r\n        <div className=\"flexColumnCenter\">\r\n            <Navigation goBack={true} goHome={true}/>\r\n            <form id=\"lineUp\" onSubmit={handleLineupSubmit} autoComplete=\"off\">\r\n                <div>\r\n                    <label>Time to reach the shop (in minutes)</label>\r\n                    <input onChange={handleChange}\r\n                        value={state.ttr}\r\n                        id=\"ttr\"\r\n                        type='number' placeholder=\"10\" name=\"ttr\" required />\r\n                </div>\r\n                <div>\r\n                    <label>Duration of the permanence (in minutes)</label>\r\n                    <input onChange={handleChange}\r\n                        value={state.duration}\r\n                        id=\"duration\"\r\n                        type='number' placeholder=\"15\" name=\"duration\" required />\r\n                </div>\r\n                <div>\r\n                    <button type=\"submit\">Lineup</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Lineup;","import React, { useState, useEffect } from 'react';\r\nimport { WaveLoading } from 'react-loadingg';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { dateToMinutes } from '../utils/dateParser';\r\nimport { axiosGET } from '../utils/httpRequest.js';\r\nimport Navigation from './sub-components/Navigation';\r\n\r\nconst Ticket = (props) => {\r\n\r\n    const [state, setState] = useState({\r\n        isLoadedTicket: false,\r\n        ticket: null,\r\n        ticketId: props.match.params.id,\r\n    });\r\n\r\n    const history = useHistory();\r\n\r\n    //fetch ticket info\r\n    useEffect(() => {\r\n        const onOk = (response) => {\r\n            setState(prevState => {\r\n                return {\r\n                    ...prevState,\r\n                    isLoadedTicket: true,\r\n                    ticket: response.data\r\n                }\r\n            });\r\n        }\r\n        axiosGET(\"SSW\", (\"/ticketDetail/\" + state.ticketId), {}, onOk, null, null, true, false, true);\r\n    }, [state.ticketId]);\r\n\r\n    const handleDequeue = () => {\r\n        const onOk = () => {\r\n            history.push(\"/Home\");\r\n        }\r\n        axiosGET(\"QSW\", (\"/dequeue/\" + state.ticketId), {}, onOk, null, null, true, false, true);\r\n    }\r\n\r\n    const handleOnClickShop = () => {\r\n        history.push('/Shop/' + state.ticket.shop.id);\r\n    }\r\n\r\n    return (\r\n        <div className=\"flexColumnCenter card\">\r\n            <Navigation goBack={true} goHome={true} />\r\n            {state.isLoadedTicket ?\r\n                <div className=\"flexColumnCenter\">\r\n\r\n                    <div>\r\n\r\n                        <div> Status: {state.ticket.status} </div>\r\n\r\n                        <div> Time To Reach The Shop: {dateToMinutes(state.ticket.timeToReachTheShop)} minutes </div>\r\n\r\n                        <div> Declared duration of the Permanence: {dateToMinutes(state.ticket.expectedDuration)} minutes </div>\r\n\r\n                        <div className=\"flexColumnCenter\">\r\n\r\n                            {state.ticket.enterTime ? <div> Entering Time: {state.ticket.enteringTime} </div> : \"\"}\r\n\r\n                            {state.ticket.exitTime ? <div> Exit Time {state.ticket.exitTime} </div> : \"\"}\r\n\r\n                            {state.ticket.scheduledEnteringTime ? <div> Scheduled Entering Time: {state.ticket.scheduledEnteringTime} </div> : \"\"}\r\n\r\n                            {state.ticket.scheduledExitingTime ? <div> Scheduled Exiting Time: {state.ticket.scheduledExitingTime} </div> : \"\"}\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    <div className=\"flexColumnCenter clickable\" onClick={handleOnClickShop}>\r\n\r\n                        <div> Shop Name {state.ticket.shop.name} </div>\r\n\r\n                        <div> Shop Position {state.ticket.shop.position} </div>\r\n\r\n                        <div> Shop Image {state.ticket.shop.image} </div>\r\n\r\n                    </div>\r\n\r\n                    <button onClick={handleDequeue}> Dequeue </button>\r\n\r\n                </div>\r\n                :\r\n                <WaveLoading style={{position: \"relative\"}}/>\r\n            }\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default Ticket;","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst ShopElementManager = (props) => {\r\n\r\n    const history = useHistory();\r\n\r\n    const handleOnClick = () => {\r\n        history.push('/ShopManager/' + props.shop.id);\r\n    }\r\n\r\n    return (\r\n        <div className=\"flexColumnCenter card clickable\" onClick={handleOnClick}>\r\n            <div> {props.shop.name} </div>\r\n            <div> {props.shop.image} </div>\r\n            <div> {props.shop.description} </div>\r\n            <div> {props.shop.position} </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ShopElementManager;","import React from 'react';\r\nimport ShopElementManager from './ShopElementManager';\r\nimport { WaveLoading } from 'react-loadingg';\r\n\r\nconst ShopsListManager = (props) => {\r\n    if (props.isLoaded) {\r\n        return (\r\n            <div className=\"flexColumnCenter\">\r\n                {(props.shops !== null && props.shops.length !== 0) ?\r\n                    (props.shops).map(shop => <ShopElementManager key={shop.id} shop={shop} />)\r\n                    :\r\n                    \"There are no shops.\"\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n    else {\r\n        return <div className=\"flexColumnCenter\"> <WaveLoading style={{position: \"relative\"}} /></div>\r\n    }\r\n}\r\n\r\nexport default ShopsListManager;","import React, {useEffect, useState} from 'react';\r\nimport Account from './sub-components/Account';\r\nimport { axiosGET } from '../utils/httpRequest.js';\r\nimport ShopsListManager from './sub-components/ShopsListManager';\r\nimport GoToButton from './sub-components/GoToButton';\r\n\r\n\r\nconst HomeManager = () => {\r\n\r\n    const [state, setState] = useState({\r\n        isLoadedShops: false,\r\n        isLoadedAccount: false,\r\n        account: null,\r\n        shops: null\r\n    });\r\n\r\n    //fetch shops info\r\n     useEffect(()=>{\r\n        const onOk = (response) =>{\r\n            setState(prevState =>{\r\n                return{\r\n                     ...prevState,\r\n                     isLoadedShops : true,\r\n                     shops : response.data\r\n                }\r\n             });\r\n        }\r\n        axiosGET(\"SSW\", \"/shops\", {}, onOk, null , null, true, false, true);\r\n    }, []);\r\n\r\n    //fetch account info\r\n    useEffect(()=>{\r\n        const onOk = (response) =>{\r\n            setState(prevState =>{\r\n                return{\r\n                     ...prevState,\r\n                     isLoadedAccount : true,\r\n                     account: response.data\r\n                }\r\n             });\r\n        }\r\n        axiosGET(\"AMW\", \"/userinfo\", {}, onOk, null, null, true, false, true);\r\n    }, []); \r\n\r\n    return (\r\n        <div className=\"flexColumnCenter\">\r\n            <Account isLoaded={state.isLoadedAccount} account={state.account} />\r\n            <ShopsListManager isLoaded={state.isLoadedShops} shops={state.shops} />\r\n            <GoToButton to=\"/NewShop\" content=\"New shop\" />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default HomeManager;","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { DEBUG_MODE } from '../constants/debug.js';\r\nimport { SSW_URL_API } from '../constants/urlsAPI.js';\r\nimport { showError } from '../utils/showError';\r\nimport Navigation from './sub-components/Navigation';\r\n\r\nconst NewShop = () => {\r\n\r\n    const [state, setState] = useState({\r\n        name: \"\",\r\n        description: \"\",\r\n        position: \"\",\r\n        image: \"\",\r\n        shopCapacity: 0,\r\n        timeslotMinutesDuration: 0,\r\n        maxEnteringClientInATimeslot: 0,\r\n        shiftsProto: [],\r\n        quantityOfSshifts: 1\r\n    });\r\n\r\n    const history = useHistory;\r\n\r\n    const handleChange = (e) => {\r\n        const { id, value } = e.target\r\n        setState(prevState => ({\r\n            ...prevState,\r\n            [id]: value\r\n        }))\r\n    }\r\n\r\n    const handleShift = (e) => { //TODO:\r\n\r\n        var shiftsProtoNew = {\r\n            ...state.shiftsProto,\r\n\r\n        }\r\n\r\n        setState(prevState => ({\r\n            ...prevState,\r\n            shiftsProto: shiftsProtoNew\r\n        }))\r\n    }\r\n\r\n    const handleChangeFile = (e) => {\r\n        const file = e.target.files[0];\r\n        console.log(\"FILEEE\");\r\n        console.log(file);\r\n        setState(prevState => ({\r\n            ...prevState,\r\n            image: file\r\n        }))\r\n    }\r\n\r\n    const handleNewShopSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (document.getElementById(\"newShop\").reportValidity()) {\r\n            sendNewShopToServer();\r\n        }\r\n    }\r\n\r\n    const sendNewShopToServer = () => {\r\n        /* const payload = {\r\n            name: state.name,\r\n            description: state.description,\r\n            position: state.position,\r\n            shopCapacity: state.shopCapacity,\r\n            timeslotMinutesDuration: state.timeslotMinutesDuration,\r\n            maxEnteringClientInATimeslot: state.shopCapacity,\r\n            image: state.image, //TODO: togliere\r\n            shiftsProto: []\r\n        }\r\n        for (let i = 0; i < state.shiftsProto.length; i++) {\r\n            const shift = state.shiftsProto[i];\r\n            payload.shiftsProto.push(shift);\r\n        } */\r\n        const onOk = (response) => {\r\n            if (response.id) {\r\n                history.push('/ShopManager/' + response.id);\r\n            }\r\n            else {\r\n                response = {\r\n                    ...response,\r\n                    data: \"server was not able to register a new shop\"\r\n                }\r\n                showError(response);\r\n            }\r\n        }\r\n\r\n        var formData = new FormData(document.getElementById(\"newShop\"));\r\n\r\n        //formData.append(\"image\", state.file);\r\n        //formData.append(\"document\", JSON.stringify(payload));\r\n\r\n        console.log(formData);\r\n\r\n        axios({\r\n            method: 'post',\r\n            url: SSW_URL_API + '/newshop',\r\n            data: formData,\r\n        })\r\n            .then(function (response) {\r\n                console.log(\"response data:\");\r\n                console.log(response.data);\r\n                console.log(\"response status:\");\r\n                console.log(response.status);\r\n                console.log(\"response headers\");\r\n                console.log(response.headers);\r\n                if (response.status === 200) {\r\n                    onOk(response);\r\n                }\r\n                else {\r\n                    DEBUG_MODE ? console.log(\"Should redirect to /Error\") : showError(response);\r\n                }\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n                if (error.response) {\r\n                    console.log(\"error data:\");\r\n                    console.log(error.response.data);\r\n                    console.log(\"error status:\");\r\n                    console.log(error.response.status);\r\n                    console.log(\"error headers\");\r\n                    console.log(error.response.headers);\r\n                    DEBUG_MODE ? console.log(\"redirect to /Error\") : showError(error.response);\r\n                }\r\n                else {\r\n                    DEBUG_MODE ? console.log(\"redirect to /Error\") : showError(error.response);\r\n                }\r\n            });\r\n    }\r\n\r\n    return (\r\n        <div className=\"flexColumnCenter\">\r\n            <Navigation goBack={true} goHome={true}/>\r\n            <form id=\"newShop\" onSubmit={handleNewShopSubmit} autoComplete=\"off\">\r\n                <div>\r\n                    <label>Shop name:</label>\r\n                    <input onChange={handleChange}\r\n                        value={state.name}\r\n                        id=\"name\"\r\n                        type='text' placeholder=\"shop name\" name=\"name\" required />\r\n                </div>\r\n                <div>\r\n                    <label>Description:</label>\r\n                    <input onChange={handleChange}\r\n                        value={state.description}\r\n                        id=\"description\"\r\n                        type='text' placeholder=\"This shop is...\" name=\"description\" required />\r\n                </div>\r\n                <div>\r\n                    <label>Position:</label>\r\n                    <input onChange={handleChange}\r\n                        value={state.position}\r\n                        id=\"position\"\r\n                        type='text' placeholder=\"ShopStreet, 5, ShopCity\" name=\"position\" required />\r\n                </div>\r\n                <div>\r\n                    <label>Shop capacity:</label>\r\n                    <input onChange={handleChange}\r\n                        value={state.shopCapacity}\r\n                        id=\"shopCapacity\"\r\n                        type='number' placeholder=\"max number of clients\" name=\"shopCapacity\" required />\r\n                </div>\r\n                <div>\r\n                    <label>Duration of a time slot (in minutes):</label>\r\n                    <input onChange={handleChange}\r\n                        value={state.timeslotMinutesDuration}\r\n                        id=\"timeslotMinutesDuration\"\r\n                        type='number' placeholder=\"3\" name=\"timeslotMinutesDuration\" required />\r\n                </div>\r\n                <div>\r\n                    <label>Shop image:</label>\r\n                    <input type=\"file\" onChange={handleChangeFile}\r\n                        id=\"image\"\r\n                        name=\"image\" required />\r\n                </div>\r\n                {/* SHIFTS */}\r\n                <div>\r\n                    <button type=\"submit\">Create Shop</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default NewShop;","import React from 'react';\r\nimport TicketElement from './TicketElement';\r\n\r\nconst Queue = (props) => {\r\n\r\n    console.log(\"queue:\");\r\n    console.log(props.tickets);\r\n\r\n    const handleEnter = () => {\r\n\r\n    }\r\n\r\n    const handleExit = () => {\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"flexColumnCenter\">\r\n            {(props.tickets).map(ticket => (\r\n                <div key={ticket.id} className=\"flexColumnCenter\">\r\n                    <TicketElement key={ticket.id} ticket={ticket} showShop={false} />\r\n                    <div className=\"flexRowCenter\">\r\n                        <button onClick={handleEnter}>Enter</button>\r\n                        <button onClick={handleExit}>Exit</button>\r\n                    </div>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Queue;","import React, { useState, useEffect } from 'react';\r\nimport { WaveLoading } from 'react-loadingg';\r\nimport { calcDay } from '../utils/dateParser.js';\r\nimport { axiosGET } from '../utils/httpRequest.js';\r\nimport Queue from './sub-components/Queue.js';\r\nimport Navigation from './sub-components/Navigation';\r\nimport GoToButton from './sub-components/GoToButton';\r\n\r\nconst ShopManager = (props) => {\r\n\r\n    const [state, setState] = useState({\r\n        isLoadedShop: false,\r\n        shop: null,\r\n        isLoadedQueueMaxDuration: false,\r\n        queueMaxDuration: null,\r\n        shopId: props.match.params.id,\r\n        queueTrigger: false,\r\n        tickets: null\r\n    });\r\n\r\n    //fetch shop info\r\n    useEffect(() => {\r\n        const onOk = (response) => {\r\n            setState(prevState => {\r\n                return {\r\n                    ...prevState,\r\n                    isLoadedShop: true,\r\n                    shop: response.data.shop,\r\n                    tickets: response.data.tickets\r\n                }\r\n            });\r\n        }\r\n        axiosGET(\"SSW\", (\"/shopDetail/\" + state.shopId), {}, onOk, null, null, true, false, true);\r\n    }, [state.shopId]);\r\n\r\n    //fetch queue expected duration\r\n    useEffect(() => {\r\n        const onOk = (response) => {\r\n            setState(prevState => {\r\n                return {\r\n                    ...prevState,\r\n                    isLoadedQueueMaxDuration: true,\r\n                    queueMaxDuration: response.data\r\n                }\r\n            });\r\n        }\r\n        axiosGET(\"QSW\", (\"/queueInfo/\" + state.shopId), {}, onOk, null, null, true, false, true);\r\n    }, [state.shopId]);\r\n\r\n    const triggerQueue = () => {\r\n        setState(prevState => ({\r\n            ...prevState,\r\n            queueTrigger: !prevState.queueTrigger\r\n        }));\r\n    }\r\n\r\n    return (\r\n        <div className=\"flexColumnCenter\">\r\n\r\n            <Navigation goBack={true} goHome={true} />\r\n\r\n            {state.isLoadedShop ?\r\n\r\n                <div className=\"flexColumnCenter card\">\r\n\r\n                    <div className=\"flexColumnCenter\">\r\n\r\n                        <div> {state.shop.name} </div>\r\n\r\n                        <div> {state.shop.image} </div>\r\n\r\n                        <div> {state.shop.description} </div>\r\n\r\n                        <div> {state.shop.position} </div>\r\n\r\n                    </div>\r\n\r\n                    <div className=\"flexColumnCenter\">\r\n\r\n                        {state.isLoadedQueueMaxDuration ?\r\n                            <div> Expected Queue duration: {state.queueMaxDuration}</div>\r\n                            :\r\n                            <WaveLoading style={{ position: \"relative\" }} />\r\n                        }\r\n\r\n                    </div>\r\n\r\n                    {state.shop.shifts ?\r\n                        (state.shop.shifts).map(shift =>\r\n                            <div className=\"flexColumnCenter\">\r\n                                <div> Day: {calcDay(shift.day)}</div>\r\n                                <div>{shift.openingTime} - {shift.closingTime}</div>\r\n                            </div>\r\n                        )\r\n                        :\r\n                        \"\"\r\n                    }\r\n\r\n                </div>\r\n                :\r\n                <WaveLoading style={{ position: \"relative\" }} />\r\n            }\r\n\r\n            {\r\n                state.isLoadedShop ?\r\n                    <div className=\"flexColumnCenter\">\r\n                        < button onClick={triggerQueue}>{state.queueTrigger ? \"Hide\" : \"Show\"} tickets</button>\r\n                        {\r\n                            state.queueTrigger ?\r\n                                <Queue tickets={state.tickets} />\r\n                                :\r\n                                \"\"\r\n                        }\r\n                    </div>\r\n                    :\r\n                    \"\"\r\n            }\r\n\r\n            <GoToButton to=\"/TimeLine\" content=\"Go to Time Line visualizer\" />\r\n\r\n        </div >\r\n    );\r\n}\r\n\r\nexport default ShopManager;","import React from 'react';\r\n\r\nconst TicketTracker = (props) => {\r\n\r\n    const ticketTracker = props.ticketTracker;\r\n\r\n    return (\r\n        <div className=\"flexColumnCenter cardWhite\">\r\n            <div> TICKET (ID: {ticketTracker.Ticket.id}) </div>\r\n            <div> status {ticketTracker.Ticket.status}</div>\r\n            <div> prev: {ticketTracker.previousMatchingTicket}, follow: {ticketTracker.followingMatchingTicket} </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default TicketTracker;","import React from 'react';\r\nimport TicketTracker from './TicketTracker';\r\n\r\nconst TimeSlot = (props) => {\r\n\r\n    const timeslot = props.timeSlot;\r\n\r\n    return (\r\n        <div className=\"flexColumnCenter card\">\r\n            <div className=\"simpleTitle\"> TIME SLOT (ID: {timeslot.id}) </div>\r\n            <div> from:  {timeslot.startingTime} <br /> to: {timeslot.endingTime} </div>\r\n            <div className=\"flexRowStart\">\r\n                <div className=\"flexColumnCenter\">\r\n                    <div className=\"simpleTitle\"> EXPECTED ENTERING TICKETS </div>\r\n                    {timeslot.expectedEnteringTickets ? (timeslot.expectedEnteringTickets).map(ticketTracker => <TicketTracker ticketTracker={ticketTracker}/>) : \"\"}\r\n                </div>\r\n                <div className=\"flexColumnCenter\">\r\n                    <div className=\"simpleTitle\"> EXPECTED EXITING TICKETS </div>\r\n                    {timeslot.expectedExitingTickets ? (timeslot.expectedExitingTickets).map(ticketTracker => <TicketTracker ticketTracker={ticketTracker}/>) : \"\"}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default TimeSlot;","import React, { useState } from 'react';\r\nimport TimeSlot from './sub-components/TimeSlot';\r\n\r\nconst ParseTimeLine = (props) => {\r\n\r\n    const [state, setState] = useState(null);\r\n\r\n    const getJSON = (e) => {\r\n        setState(JSON.parse(e.target.value));\r\n    }\r\n\r\n    return (\r\n        <div className=\"flexColumnCenter\">\r\n            <div className=\"flexColumnCenter\">\r\n                <label>Insert JSON to parse:</label>\r\n                <input onChange={getJSON} type=\"text\"></input>\r\n            </div>\r\n            {state != null ?\r\n                <div>\r\n                    {(state).map(timeslot => <TimeSlot key={timeslot.id} timeSlot={timeslot}/>)}\r\n                </div>\r\n                : \"\"}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ParseTimeLine;","import './css/App.css';\n\nimport Start from './components/Start';\nimport Home from './components/Home';\nimport Search from './components/Search';\nimport Shops from './components/Shops';\nimport Shop from './components/Shop';\nimport Lineup from './components/Lineup';\nimport Ticket from './components/Ticket';\nimport HomeManager from './components/HomeManager';\nimport NewShop from './components/NewShop';\nimport ShopManager from './components/ShopManager';\nimport ParseTimeLine from './components/ParseTimeLine';\n\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n\n\nfunction App() {\n    return (\n        <Router>\n            <div id=\"App\" className=\"App\"> \n                <Switch>\n                    <Route path=\"/\" exact component={Start} /> {/* Login page */}\n                    <Route path=\"/Home\" exact component={Home} /> {/* Home page for users */}\n                    <Route path=\"/Search\" exact component={Search} /> {/* Search a shop page */}\n                    <Route path=\"/Shops\" exact component={Shops} /> {/* List of shops page */}\n                    <Route path=\"/Shop/:id\" exact component={Shop} /> {/* Shop page for users */}\n                    <Route path=\"/Lineup/:id\" exact component={Lineup} /> {/* Line up page */}\n                    <Route path=\"/Ticket/:id\" exact component={Ticket} /> {/* Ticket page */}\n                    <Route path=\"/HomeManager\" exact component={HomeManager} /> {/* Home page for managers */}\n                    <Route path=\"/NewShop\" exact component={NewShop} /> {/* New shop page */}\n                    <Route path=\"/ShopManager/:id\" exact component={ShopManager} /> {/* Shop page for managers */}\n                    <Route path=\"/TimeLine\" exact component={ParseTimeLine} />\n                </Switch>\n            </div>\n        </Router>\n\n    );\n}\nexport default App;\n\n//to fetch items from an API use the following code:\n//import {useState, useEffect} from 'react'\n//the use effect will make the fetch happen when the component mounts:\n//useEffect(() => {\n//  fetchItems();\n//},[])\n//with the useState we can save the fetched items in the state:\n//const [items, setItems] = useState({});\n//const fetchItems = async () => {\n//  const data = await fetch('https://urlgoeshere');\n//  const items = await data.json();\n//  setItems(items);\n//}\n\n//fetching a POST request:\n/* evt.preventDefault();\n//fetching a POST request:\nconst Url = \"http://localhost:8080/\";\nconst Params = {\n    param1: 'value',\n    param2: 2\n}\nconst Body = {\n    thingone: \"something\",\n    etc: \"something else\"\n};\nconst requestSettings = {\n    headers: {\n        \"header-name\": \"header-content\"\n    },\n    body: Body,\n    method: \"POST\"\n};\nfetch(Url + new URLSearchParams(Params), requestSettings)\n    .then(response => { return response.json() })\n    .then(data => { console.log(data); setData(data) })\n    .catch(err => { console.log(err); setError(err) }); */\n\n//CONTEXT API for state management","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}